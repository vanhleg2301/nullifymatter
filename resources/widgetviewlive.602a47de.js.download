"use strict";(self.webpackChunkembedsocial_live=self.webpackChunkembedsocial_live||[]).push([[3262,4229,6610],{4411:function(e,t,i){i(9149),i(8130),i(7495),i(744),i(6099),i(8781);var n={computed:{computedAverageRating:function(){return Math.ceil(this.averageRating)},computedIconWidth:function(){return Number.isSafeInteger(this.averageRating)?100:this.averageRating.toString().split(".")[1][0]},iconSize:function(){return this.width&&this.height?{width:this.width,height:this.height}:{width:"20",height:"20"}}}};t.A=n},8189:function(e,t,i){var n=i(4980),r=(i(3792),i(6099),i(7764),i(2953),i(8408),i(7495),i(5746),i(3751)),o=i(641);i(3362);var a=i(33);i(9432),i(2675),i(3851),i(3500),i(1278);var s=i(467),d=i(5458),u=i(4756),l=i.n(u),c=(i(4423),i(2010),i(2008),i(8706),i(8781),i(5440),i(113),i(1833)),g=i(9886),h=i(522),f=i(7468),p=i(274),w={data:function(){return{startingScrollPosition:window.pageYOffset,requestId:null}},computed:{widgetScrollSpeedSettingValue:function(){return this.widgetSettings?this.widgetSettings.layout_and_theme.autoplaySpeed:this.universalEditorMainStore.widgetSettings.layout_and_theme.autoplaySpeed},shouldDisableScroll:function(){return this.universalEditorMainStore?this.universalEditorMainStore.isCursorInWidget:this.isCursorInWidget},enabledAutoScrollInLayout:function(){return this.universalEditorMainStore?"feed"===this.universalEditorMainStore.widgetData.layout.name:"feed"===this.widgetData.layout.name}},watch:{shouldDisableScroll:function(e){this.universalEditorMainStore&&!this.universalEditorMainStore.widgetSettings.layout_and_theme.verticalAutoPlay||this.widgetSettings&&!this.widgetSettings.layout_and_theme.verticalAutoPlay||this.disableScrollAnimation||(e?(this.startingScrollPosition=window.pageYOffset,window.cancelAnimationFrame(this.requestId)):this.scrollToEndOfTarget())}},unmounted:function(){window.cancelAnimationFrame(this.requestId),this.startingScrollPosition=0,this.requestId=null},methods:{fixedNumOfRepeatingMedias:function(e){for(var t=[];t.length<300;)e.forEach((function(e){t.push(e)}));return t},widgetScrollSpeedOptions:function(e){switch(e){case 1500:return 5e5;case 2250:return 7e5;case 3e3:return 9e5;case 3750:return 12e5;case 4500:return 14e5;default:return 2e6}},scrollToEndOfTarget:function(){var e=this,t=document.querySelector("#es-main-widget"),i=null==t?void 0:t.scrollHeight,n=null;t.style.pointerEvents="all",this.requestId=window.requestAnimationFrame((function t(r){if(e.disableScrollAnimation||!e.enabledAutoScrollInLayout)return window.scrollTo({top:0}),window.cancelAnimationFrame(e.requestId+1),void(n=null);n||(n=r);var o=r-n,a=Math.min(o/e.widgetScrollSpeedOptions(e.widgetScrollSpeedSettingValue),1),s=e.startingScrollPosition+i*a;window.scrollTo(0,s),window.innerHeight+window.scrollY>=i&&(window.scrollTo({top:0}),n=null),e.requestId=window.requestAnimationFrame(t)}))}}},m=i(9763),v=i(4069),y=i(7978),b=i(1429);function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(Object(i),!0).forEach((function(t){(0,n.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var C={name:"LayoutType",components:{WidgetHeader:m.A,WidgetLayout:y.A,WidgetFooter:b.A,WidgetSourceFilters:v.default,ListProducts:(0,o.$V)((function(){return i.e(100).then(i.bind(i,100))})),TranslatedByAi:(0,o.$V)((function(){return i.e(9855).then(i.bind(i,9855))}))},mixins:[w],data:function(){return{loading:!0,isMediaLoading:!1,productId:(0,c.J1)(),embeddedBaseUrl:(0,c.Vg)(),widgetData:(0,c.LO)(),widgetSettings:(0,c.ES)(),widgetMedia:(0,c.Fg)(),numMaxMedia:(0,c.j6)(),averageRating:(0,c.p3)(),imagesPerPage:(0,c.tl)(),numPages:(0,c.Zo)(),isReviewsWidget:(0,c.W2)(),isTemplatePreview:(0,c.Bn)(),overridenTitle:(0,c.DM)(),shouldEnableDefaultReviewerAvatar:(0,c.mz)(),aiGeneratedSummary:(0,c.y5)(),enableOpenAIIntegration:(0,c.MJ)(),averageRatingNumberOfReviews:(0,c.C6)(),lightboxBaseUrl:(0,c.u0)(),hasMessagesCallback:!1,isCursorInWidget:!1,clientWidth:document.body.clientWidth,screenWidth:window.screen.width,isPreLoadedLightboxReady:!1,currentPage:1,msgData:{widgetRef:"",index:"",page:"",src:"",action:"create",iframeId:""},formMsgData:{reviewsRef:"",src:"",type:"",iframeId:"",action:"create"},isInEditor:!1,sourceTypeFilter:"",selectedSourceId:null,widgetTagsList:[],filterTagId:null,parentPageWidth:null}},computed:{mainContainerEvents:function(){var e=this;return this.widgetSettings.layout_and_theme.verticalAutoPlay?{mouseenter:function(){e.isCursorInWidget=!0},mouseleave:function(){e.isCursorInWidget=!1}}:{}},showWidgetHeader:function(){return this.widgetSettings.layout_and_theme.showHeader&&![6,7,8].includes(this.widgetData.layout.id)},computedContainerPadding:function(){var e,t;return[6,7].includes(this.widgetData.layout.id)&&this.clientWidth<=786?"8px":"slider"!==(null===(e=this.widgetData)||void 0===e||null===(t=e.layout)||void 0===t?void 0:t.name)&&this.clientWidth<=786?"10px":"30px"},generateWidgetHeaderPhoto:function(){if(this.widgetSettings.header.thumbnailImageUrl)return this.widgetSettings.header.thumbnailImageUrl;for(var e="",t=0;t<this.widgetMedia.length;t++)if(this.widgetMedia[t].image){e=this.widgetMedia[t].image.source;break}return e},sourceTypes:function(){var e;return(0,f.DQ)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},sourceSubtypes:function(){var e;return(0,f.dq)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},showSourceTypeFilters:function(){return(this.widgetSettings.header.filterBySource||this.widgetSettings.header.filterBySourceId)&&this.computedSourcesForWidgetHeaderFilters&&this.computedSourcesForWidgetHeaderFilters.length&&"popup"!==this.widgetData.layout.name&&"badge"!==this.widgetData.layout.name},computedWidgetTagsList:function(){var e=(0,d.A)(this.widgetTagsList);if(!e.length)return[];var t=this.widgetSettings.filters,i=t.filterByTags,n=t.excludeByTags;return i.length?e.filter((function(e){return i.some((function(t){return t.id===e.id}))})):n.length?e.filter((function(e){return!n.some((function(t){return t.id===e.id}))})):e},generateWidgetHeaderContext:function(){var e=this;return{headerProps:(0,g.iV)({widgetSettings:this.widgetSettings,updatedWidgetSettings:{},widgetHeaderPhoto:this.generateWidgetHeaderPhoto,numMaxMedia:this.numMaxMedia,averageRating:this.averageRating,averageRatingNumberOfReviews:this.averageRatingNumberOfReviews,isReviewsWidget:this.isReviewsWidget,isInEditor:!1,isCreatedFromTemplate:!1,overridenTitle:this.overridenTitle,filterMediaUrl:"".concat((0,c.uM)()).concat(this.widgetData.id),widgetTagsList:this.computedWidgetTagsList,embeddedBaseUrl:this.embeddedBaseUrl}),events:{leaveAReview:function(){e.handleLeaveAReview()},handleFilteredData:function(t){return e.handleFilteredData(t)}}}},generateWidgetFooter:function(){var e={loadMore:this.liveLoadMore,paginator:this.livePaginator,infiniteScroll:this.liveLoadMore},t="#000000";"Dark"===this.widgetSettings.layout_and_theme.chooseWidgetTheme&&(t="#ffffff");var i={currentPage:this.currentPage,numberOfPages:this.numPages,buttonColor:this.widgetSettings.header.buttonColor,language:this.widgetSettings.general.widgetLanguage,buttonTextColor:this.widgetSettings.header.buttonTextColor,buttonHoverState:this.widgetSettings.header.buttonHoverState,buttonSize:this.widgetSettings.header.buttonSize,buttonCornerRadius:this.widgetSettings.header.buttonCornerRadius,buttonBorderWidth:this.widgetSettings.header.buttonBorderWidth,buttonBorderColor:this.widgetSettings.header.buttonBorderColor,buttonText:this.widgetSettings.layout_and_theme.loadMoreText,widgetTheme:this.widgetSettings.layout_and_theme.chooseWidgetTheme,mediaLength:this.widgetMedia.length,loaderColor:t},n=(0,g.DH)(this.widgetSettings.layout_and_theme.navigation,e,i);return{footerComponent:n.footerComponent,footerProps:i,footerEvents:n.footerEvents}},computedWidgetMedia:function(){return this.widgetSettings.layout_and_theme.verticalAutoPlay?this.fixedNumOfRepeatingMedias(this.widgetMedia):this.widgetMedia},parentPageWidthComputed:function(){return"feed"!==this.widgetData.layout.name?null:this.parentPageWidth},generateWidgetComponent:function(){var e=this,t={openLightbox:function(t,i){return e.sendDataToParentIframe(t,i,"open_lightbox")},hidePopup:function(){return e.sendDataToParentIframe({},0,"close_new_popup")},cardKeyup:function(t,i,n){if(13===t.keyCode){if("No link"===e.widgetSettings.card.linkLocation)return;"Original source"===e.widgetSettings.card.linkLocation?"new tab"===e.widgetSettings.card.originalSourceLinkTarget?window.open(n,"_blank"):window.open(n,"_top"):e.sendDataToParentIframe(t,i,"open_lightbox")}},leaveAReview:function(){e.handleLeaveAReview()}};return(0,g.Mv)({widgetSettings:this.widgetSettings,widgetMedia:this.computedWidgetMedia,widgetData:this.widgetData,currentPage:this.currentPage,averageRating:this.averageRating,averageRatingNumberOfReviews:this.averageRatingNumberOfReviews,numMaxMedia:this.numMaxMedia,shouldEnableDefaultReviewerAvatar:this.shouldEnableDefaultReviewerAvatar,aiGeneratedSummary:this.aiGeneratedSummary,enableOpenAIIntegration:this.enableOpenAIIntegration,inUniversalEditor:this.isInEditor,isReviewsWidget:this.isReviewsWidget,averageRatingDescriptionText:this.widgetSettings.card.averageRatingDescriptionText,enableAnalytics:this.widgetSettings.general.feedAnalytics,embeddedBaseUrl:this.embeddedBaseUrl,methods:t,parentPageWidth:this.parentPageWidthComputed})},showFooter:function(){return this.widgetSettings.layout_and_theme.showPosts&&["feed","collage"].includes(this.widgetData.layout.name)&&this.numPages>1&&!this.widgetSettings.layout_and_theme.verticalAutoPlay},computedWidgetPointerEvents:function(){return this.widgetSettings.layout_and_theme.verticalAutoPlay?"none":"all"},computedSourcesForWidgetHeaderFilters:function(){var e,t;return this.widgetSettings.header.filterBySourceId?null===(t=this.widgetData)||void 0===t?void 0:t.sources.filter((function(e){return e.numOfPosts})):(0,f.tx)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},formattedProductTags:function(){return(0,f.r5)(this.widgetMedia)},showTaggedProducts:function(){return this.widgetSettings.layout_and_theme.showTaggedProducts&&this.formattedProductTags.length},priceFormatCurrencyFirst:function(){var e,t,i;return null!==(e=null===(t=this.widgetSettings)||void 0===t||null===(i=t.cta)||void 0===i?void 0:i.priceFormatCurrencyFirst)&&void 0!==e&&e},allMediaSourceFiltersText:function(){return this.isReviewsWidget?"w_all_reviews":"w_all_posts"},areFiltersEnabled:function(){return this.widgetSettings.header.filterBySource||this.widgetSettings.header.filterBySourceId},widgetContainerClasses:function(){var e,t=null!==(e=this.parentPageWidthComputed)&&void 0!==e?e:this.screenWidth,i=[];return this.parentPageWidthComputed&&i.push("es-parent-page-width"),i.push(this.getWidgetScreenSizeClass(t)),i},showTranslatedByAiDisclaimer:function(){return(0,p.Gf)({enableAiCaptionTranslator:this.widgetSettings.general.aiCaptionTranslator,enableAiTranslatorDisclaimer:this.widgetSettings.general.aiTranslatorDisclaimer,layoutId:this.widgetData.layout.id})},translatedByAiDisclaimerColor:function(){return(0,p.I2)(this.widgetSettings.layout_and_theme.chooseWidgetTheme)}},created:function(){var e=this;window.iFrameResizer={messageCallback:function(t){Object.prototype.hasOwnProperty.call(t,"updatedSettings")&&Object.prototype.hasOwnProperty.call(t,"updatedData")&&(e.hasMessagesCallback=!0,e.widgetSettings=T(T({},e.widgetSettings),t.updatedSettings),e.widgetData=T(T({},e.widgetData),t.updatedData),e.addCustomCss(),e.$setWtLanguage(e.widgetSettings.general.widgetLanguage),e.loading=!1),Object.prototype.hasOwnProperty.call(t,"parentPageWidth")&&"number"==typeof t.parentPageWidth&&(e.parentPageWidth=t.parentPageWidth),Object.prototype.hasOwnProperty.call(t,"isPreLoadedLightboxReady")&&"boolean"==typeof t.isPreLoadedLightboxReady&&(e.isPreLoadedLightboxReady=t.isPreLoadedLightboxReady)}},this.hasMessagesCallback||this.$setWtLanguage(this.widgetSettings.general.widgetLanguage||"english"),this.loading=!1},mounted:function(){var e=this;return(0,s.A)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.addCustomCss(),!e.widgetSettings.header.interactiveFilterByTag){t.next=5;break}return t.next=4,(0,h.hH)(e.embeddedBaseUrl,e.widgetData.id);case 4:e.widgetTagsList=t.sent;case 5:e.widgetSettings.layout_and_theme.verticalAutoPlay&&(window.addEventListener("mousewheel",e.disableMouseWheelScroll,{passive:!1}),setTimeout((function(){e.setupVerticalAutoPlay()}),1500)),window.addEventListener("resize",e.handleResize);case 7:case"end":return t.stop()}}),t)})))()},unmounted:function(){this.widgetSettings.layout_and_theme.verticalAutoPlay&&window.removeEventListener("mousewheel",this.disableMouseWheelScroll),window.removeEventListener("resize",this.handleResize)},methods:{getWidgetScreenSizeClass:function(e){return e>768?"es-widget-container-desktop":e>425?"es-widget-container-tablet":"es-widget-container-mobile"},setupVerticalAutoPlay:function(){var e=this;document.querySelector("#es-main-widget")||setTimeout((function(){e.setupVerticalAutoPlay()}),500),this.scrollToEndOfTarget()},disableMouseWheelScroll:function(e){var t=window.event||e,i=Math.min(1,t.wheelDelta||-t.detail),n=Math.max(-1,i);[1,-1].includes(n)&&(t.preventDefault(),t.stopPropagation())},lightboxIframeSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new URLSearchParams({widgetLanguage:this.widgetSettings.general.widgetLanguage,lightboxDirection:this.widgetSettings.card.lightboxDirection});this.widgetSettings.header.filterKeyword&&"all"!==this.widgetSettings.header.filterKeyword&&t.append("filterKeyword",this.widgetSettings.header.filterKeyword),this.widgetSettings.header.interactiveFilterByTag&&this.filterTagId&&t.append("filterByTags","[".concat(this.filterTagId,"]")),this.widgetSettings.header.filterBySourceId&&this.selectedSourceId&&(t.append("sourceId",this.selectedSourceId),t.append("filterBySourceId","true")),this.widgetSettings.card.enablePreRenderingLightbox&&t.append("preRenderLightbox","true"),this.productId&&t.append("productId",this.productId);var i="".concat(this.lightboxBaseUrl).concat(this.widgetData.widgetRef,"/").concat(this.currentPage,"/").concat(e,"/");return"".concat(i,"?").concat(t)},sendDataToParentIframe:function(e,t){var i=arguments,n=this;return(0,s.A)(l().mark((function e(){var r,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=i.length>2&&void 0!==i[2]?i[2]:"create",n.msgData.widgetRef=n.widgetData.widgetRef,n.msgData.index=t.toString(),n.msgData.page="0",n.msgData.src=n.lightboxIframeSource(t),n.msgData.iframeId="parentIFrame"in window?window.parentIFrame.getId():"embedIFrame_".concat(n.widgetData.widgetRef),n.msgData.popupPosition=n.widgetSettings.layout_and_theme.popupPosition,n.msgData.albumRef=n.widgetData.widgetRef,n.msgData.action=r,"open_lightbox"===r&&(n.msgData.action="create"),"open_lightbox"===r&&n.isPreLoadedLightboxReady&&n.widgetSettings.card.enablePreRenderingLightbox&&(n.msgData.action="showPreRenderedLightbox",a=null===(o=n.widgetMedia[t])||void 0===o?void 0:o.id,"pagination"===n.widgetSettings.layout_and_theme.navigation&&(n.msgData.activeMediaId=a)),"drawer-left"===n.widgetSettings.card.lightboxDirection&&(n.msgData.lightboxType="vertical_list_left"),"drawer-right"===n.widgetSettings.card.lightboxDirection&&(n.msgData.lightboxType="vertical_list_right"),"parentIFrame"in window&&window.parentIFrame.sendMessage(n.msgData);case 14:case"end":return e.stop()}}),e)})))()},handleSourceSelect:function(e){var t=this;return(0,s.A)(l().mark((function i(){var n,r,o,a;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.isMediaLoading=!0,n={page:1},t.widgetSettings.header.filterBySourceId?n.sourceId=t.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:n.sourceType=null==e?void 0:e.sourceType,i.next=5,(0,h.yY)(n);case 5:r=i.sent,o=r.media,a=r.totalNumMedias,t.currentPage=1,t.widgetSettings.header.filterBySourceId?t.selectedSourceId=t.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:t.sourceTypeFilter=null==e?void 0:e.sourceType,t.widgetMedia=o,t.numMaxMedia=a,t.numPages=Math.ceil(a/t.widgetSettings.layout_and_theme.postsPerPage),t.isMediaLoading=!1;case 14:case"end":return i.stop()}}),i)})))()},liveLoadMore:function(e){var t=this;return(0,s.A)(l().mark((function i(){var n,r,o,a,s,u;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.page,r=window.pageYOffset,window.dispatchEvent(new Event("singlePageLoadingItems")),"infinite scroll"===t.widgetSettings.layout_and_theme.navigation&&(r+=70),o={page:n},t.widgetSettings.header.filterBySourceId?o.sourceId=t.selectedSourceId:o.sourceType=t.sourceTypeFilter,a=t.widgetMedia,!t.areFiltersEnabled){i.next=13;break}return i.next=10,(0,h.yY)(o);case 10:i.t0=i.sent,i.next=16;break;case 13:return i.next=15,(0,h.LN)({page:n});case 15:i.t0=i.sent;case 16:s=i.t0,u=s.media,t.currentPage=t.currentPage+1,t.widgetMedia=[].concat((0,d.A)(a),(0,d.A)(u)),window.dispatchEvent(new Event("singlePageLoadedItems")),window.scrollTo({top:r}),t.widgetSettings.card.enablePreRenderingLightbox&&t.isPreLoadedLightboxReady&&"parentIFrame"in window&&window.parentIFrame.sendMessage({action:"widgetPageChange",albumRef:t.widgetData.widgetRef,iframeId:"embed-lightbox-iframe-".concat(t.widgetData.widgetRef),page:n.toString()});case 23:case"end":return i.stop()}}),i)})))()},livePaginator:function(e){var t=this;return(0,s.A)(l().mark((function i(){var n,r,o,a;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n=e.page,r={page:n},t.widgetSettings.header.filterBySourceId?r.sourceId=t.selectedSourceId:r.sourceType=t.sourceTypeFilter,!t.areFiltersEnabled){i.next=9;break}return i.next=6,(0,h.yY)(r);case 6:i.t0=i.sent,i.next=12;break;case 9:return i.next=11,(0,h.LN)({page:n});case 11:i.t0=i.sent;case 12:o=i.t0,a=o.media,t.widgetMedia=a,t.currentPage=n,"parentIFrame"in window&&(window.parentIFrame.sendMessage({action:"scrollToTop",albumRef:t.widgetData.widgetRef,iframeId:"embedIFrame_".concat(t.widgetData.widgetRef)}),t.widgetSettings.card.enablePreRenderingLightbox&&t.isPreLoadedLightboxReady&&window.parentIFrame.sendMessage({action:"paginatorPageChange",albumRef:t.widgetData.widgetRef,src:t.lightboxIframeSource((+t.widgetSettings.layout_and_theme.postsPerPage+1)*(+t.currentPage-1)),iframeId:"embed-lightbox-iframe-".concat(t.widgetData.widgetRef)}));case 17:case"end":return i.stop()}}),i)})))()},addCustomCss:function(){this.widgetSettings.custom_css.customCss.length&&(document.getElementById("es-custom-css").innerHTML=(0,f.w2)(this.widgetSettings.custom_css.customCss,"#es-main-widget"))},handleLeaveAReview:function(e){var t;if("lightbox"!==this.widgetSettings.header.buttonSourceType){if(this.isReviewsCustomLinkChosen({buttonSourceType:this.widgetSettings.header.buttonSourceType,buttonType:this.widgetSettings.header.buttonType,buttonLink:this.widgetSettings.header.buttonLink}))return window.open(this.widgetSettings.header.buttonLink,"_blank");var i=this.widgetSettings.header.buttonLink,n="".concat(null===(t=this.widgetSettings.card.starsColor)||void 0===t?void 0:t.replace("#",""));null===this.widgetSettings.header.buttonSourceType||["custom_reviews","collect_form"].includes(this.widgetSettings.header.buttonSourceType)?(i="".concat(this.embeddedBaseUrl,"pro_widgets_testimonial_form/").concat(this.widgetData.widgetRef,"?widgetLanguage=").concat(this.widgetSettings.general.widgetLanguage,"&widgetTheme=").concat(this.widgetSettings.layout_and_theme.chooseWidgetTheme,"&ratingIcon=").concat(this.widgetSettings.card.ratingIcon,"&starColor=").concat(n,"&reviewsWidget=").concat(this.isReviewsWidget),this.formMsgData.widgetRef=this.widgetData.widgetRef,this.formMsgData.albumRef=this.widgetData.widgetRef,this.formMsgData.src=i,this.formMsgData.type="collect",this.formMsgData.iframeId=window.parentIFrame.getId(),this.formMsgData.action="create","parentIFrame"in window&&window.parentIFrame.sendMessage(this.formMsgData)):window.open(this.widgetSettings.header.buttonSource.sourceLink,"_blank")}else this.sendDataToParentIframe(e,0,"create")},handleFilteredData:function(e){if(!e)return this.widgetMedia=(0,c.Fg)(),this.numMaxMedia=(0,c.j6)(),this.numPages=(0,c.Zo)(),this.widgetSettings.header.filterKeyword="all",void(this.filterTagId=null);var t=e.data,i=e.keyword,n=e.tag;this.widgetMedia=t.media,this.numMaxMedia=t.totalNumMedias,this.numPages=Math.ceil(t.totalNumMedias/this.widgetSettings.layout_and_theme.postsPerPage),i&&(this.widgetSettings.header.filterKeyword=i),n&&(this.filterTagId=this.computedWidgetTagsList.find((function(e){return e.name===n})).id)},handleResize:function(){this.clientWidth=document.body.clientWidth,this.screenWidth=window.screen.width},isReviewsSource:function(e){return this.isReviewsWidget||"google"===(null==e?void 0:e.sourceType)},isReviewsCustomLinkChosen:p.TS,registerLightboxClick:h.lp}},x=function(){(0,r.$9)((function(e){return{"760c6b7b":e.computedContainerPadding,"34d4b2c7":e.computedWidgetPointerEvents}}))},I=C.setup;C.setup=I?function(e,t){return x(),I(e,t)}:x;var R=C,k=i(6262);var L={name:"App",components:{LayoutType:(0,k.A)(R,[["render",function(e,t,i,n,r,s){var d=(0,o.g2)("widget-source-filters"),u=(0,o.g2)("widget-header"),l=(0,o.g2)("list-products"),c=(0,o.g2)("translated-by-ai"),g=(0,o.g2)("widget-layout"),h=(0,o.g2)("widget-footer");return r.loading?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",(0,o.v6)({key:0,id:"es-main-widget",class:{"es-vertical-autoplay":r.widgetSettings.layout_and_theme.verticalAutoPlay}},(0,o.Tb)(s.mainContainerEvents,!0)),[(0,o.Lk)("div",{class:(0,a.C4)(["es-widget-container",s.widgetContainerClasses])},[s.showWidgetHeader?((0,o.uX)(),(0,o.Wv)(u,(0,o.v6)({key:0,sources:s.sourceTypes,"source-subtypes":s.sourceSubtypes},s.generateWidgetHeaderContext.headerProps,(0,o.Tb)(s.generateWidgetHeaderContext.events)),{"filter-by-source":(0,o.k6)((function(){return[s.showSourceTypeFilters?((0,o.uX)(),(0,o.Wv)(d,{key:0,sources:s.computedSourcesForWidgetHeaderFilters,"widget-theme":r.widgetSettings.layout_and_theme.chooseWidgetTheme,"is-vertical-autoplay-active":r.widgetSettings.layout_and_theme.verticalAutoPlay,"header-alignment":r.widgetSettings.header.headerAlignment,"all-media-text":s.allMediaSourceFiltersText,"enable-filter-by-specific-sources":r.widgetSettings.header.filterBySourceId,"is-reviews-widget":r.isReviewsWidget,onSelectSource:s.handleSourceSelect},null,8,["sources","widget-theme","is-vertical-autoplay-active","header-alignment","all-media-text","enable-filter-by-specific-sources","is-reviews-widget","onSelectSource"])):(0,o.Q3)("v-if",!0)]})),_:1},16,["sources","source-subtypes"])):(0,o.Q3)("v-if",!0),r.isMediaLoading?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[s.showTaggedProducts?((0,o.uX)(),(0,o.Wv)(l,{key:0,products:s.formattedProductTags,"price-format-currency-first":s.priceFormatCurrencyFirst},null,8,["products","price-format-currency-first"])):(0,o.Q3)("v-if",!0),s.showTranslatedByAiDisclaimer?((0,o.uX)(),(0,o.Wv)(c,{key:1,color:s.translatedByAiDisclaimerColor},null,8,["color"])):(0,o.Q3)("v-if",!0),r.widgetSettings.layout_and_theme.showPosts?((0,o.uX)(),(0,o.Wv)(g,{key:2,component:s.generateWidgetComponent.component,"card-props":s.generateWidgetComponent.props,"card-events":s.generateWidgetComponent.events},null,8,["component","card-props","card-events"])):(0,o.Q3)("v-if",!0),s.showFooter?((0,o.uX)(),(0,o.Wv)(h,{key:3,component:s.generateWidgetFooter.footerComponent,"footer-props":s.generateWidgetFooter.footerProps,"footer-events":s.generateWidgetFooter.footerEvents},null,8,["component","footer-props","footer-events"])):(0,o.Q3)("v-if",!0)],64))],2)],16))}]]),LightboxType:(0,o.$V)((function(){return Promise.all([i.e(230),i.e(2479),i.e(4401),i.e(7020)]).then(i.bind(i,7020))})),UserFeedbackForm:(0,o.$V)((function(){return Promise.all([i.e(7268),i.e(5570)]).then(i.bind(i,6437))}))},props:{component:{type:String,required:!0,description:"The name of the component that should be rendered taken from the index.html.twig file"}}};var P,W,A=(0,k.A)(L,[["render",function(e,t,i,n,r,a){return(0,o.uX)(),(0,o.Wv)((0,o.$y)(i.component))}]]),_=i(9043),F=i(1655),B=document.getElementById("widget-view-live").getAttribute("data-component"),M=(0,r.Ef)(A,{component:B}),D=(0,c.$)();M.use(_.A,{wtMessages:(0,n.A)({english:F},(P=(0,c.Ln)(),(W=new URLSearchParams(window.location.search).get("widgetLanguage"))&&(P=W),P),D?JSON.parse(D):F)}),M.mount("#widget-view-live")},6262:function(e,t){t.A=(e,t)=>{const i=e.__vccOpts||e;for(const[e,n]of t)i[e]=n;return i}},8393:function(e,t,i){i.d(t,{A:function(){return y}});var n=i(641);i(3792),i(6099),i(3362),i(7764),i(2953),i(8130);var r=i(33),o=["width","height"],a={key:0},s=["id"],d={key:1},u=["id"],l=["offset"],c=["offset"],g={key:2},h=["id"],f=["fill"];var p={name:"CircleIconRating",mixins:[i(4411).A],props:{averageRating:{type:[Number,String],required:!0,description:"The total average rating from all reviews"},starColor:{type:String,default:"#ffb542"},width:{type:String,default:"20"},height:{type:String,default:"20"}}},w=i(6262);var m=(0,w.A)(p,[["render",function(e,t,i,p,w,m){return(0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(5,(function(p){return(0,n.Lk)("svg",{key:p,width:e.iconSize.width,height:e.iconSize.height,class:"es-circle",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[p<e.computedAverageRating?((0,n.uX)(),(0,n.CE)("defs",a,[(0,n.Lk)("linearGradient",{id:"circle-icon-".concat(p)},[(0,n.Lk)("stop",{offset:"100%",style:(0,r.Tr)("stop-color: ".concat(i.starColor,"; stop-opacity: 1"))},null,4),t[0]||(t[0]=(0,n.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1))],8,s)])):(0,n.Q3)("v-if",!0),p===e.computedAverageRating?((0,n.uX)(),(0,n.CE)("defs",d,[(0,n.Lk)("linearGradient",{id:"circle-icon-".concat(p)},[(0,n.Lk)("stop",{offset:"".concat(e.computedIconWidth,"0%"),style:(0,r.Tr)("stop-color: ".concat(i.starColor,"; stop-opacity:1"))},null,12,l),(0,n.Lk)("stop",{offset:"".concat(e.computedIconWidth,"0%"),style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,8,c)],8,u)])):(0,n.Q3)("v-if",!0),p>e.computedAverageRating?((0,n.uX)(),(0,n.CE)("defs",g,[(0,n.Lk)("linearGradient",{id:"circle-icon-".concat(p)},t[1]||(t[1]=[(0,n.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1),(0,n.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1)]),8,h)])):(0,n.Q3)("v-if",!0),(0,n.Lk)("path",{d:"M12 2.5C6.48 2.5 2 6.98 2 12.5C2 18.02 6.48 22.5 12 22.5C17.52 22.5 22 18.02 22 12.5C22 6.98 17.52 2.5 12 2.5Z",fill:"url(#circle-icon-".concat(p,")")},null,8,f)],8,o)})),64)}]]),v={name:"HeaderRatingElement",components:{CircleIconRating:m,StarRating:(0,n.$V)({loader:function(){return i.e(3628).then(i.bind(i,3628))},loadingComponent:m,delay:0}),StarIconFilledRating:(0,n.$V)({loader:function(){return i.e(6049).then(i.bind(i,6049))},loadingComponent:m,delay:0}),HeartIconRating:(0,n.$V)({loader:function(){return i.e(4810).then(i.bind(i,4810))},loadingComponent:m,delay:0}),ThumbUpIconRating:(0,n.$V)({loader:function(){return i.e(2199).then(i.bind(i,2199))},loadingComponent:m,delay:0})},props:{averageRating:{type:Number,default:0,description:"The total average rating from all reviews"},starColor:{type:String,default:"#ffb621"},ratingIcon:{type:String,default:"star-icon"}},computed:{computedRatingComponent:function(){switch(this.ratingIcon){case"star-icon-filled":return"StarIconFilledRating";case"heart-icon":return"HeartIconRating";case"circle-icon":return"CircleIconRating";case"thumb-up-icon":return"ThumbUpIconRating";default:return"StarRating"}}}};var y=(0,w.A)(v,[["render",function(e,t,i,r,o,a){return(0,n.uX)(),(0,n.Wv)((0,n.$y)(a.computedRatingComponent),{"average-rating":i.averageRating,"star-color":i.starColor},null,8,["average-rating","star-color"])}]])},9763:function(e,t,i){i.d(t,{A:function(){return P}});var n=i(641),r=i(33),o=["src"],a=["title","innerHTML"],s={key:0,class:"es-widget-rating-container"},d={class:"es-widget-header-details-text"},u={class:"es-average-rating"},l={class:"es-num-reviews"},c={key:0,class:"es-header-border"},g=["aria-label","title"],h={key:0,class:"es-button-icon"},f=["src"];var p=i(467),w=i(4756),m=i.n(w),v=(i(3792),i(6099),i(3362),i(7764),i(2953),i(8130),i(4423),i(8706),i(1699),i(9868),i(4782),i(7495),i(744),i(2062),i(2010),i(113),i(9432),i(274)),y=i(1399),b=i(522),S=i(8393),T=i(4229),C=i(3751),x={name:"WidgetHeader",components:{HeaderRatingElement:S.A,LogoTypeRenderer:T.default,KeywordFilters:(0,n.$V)((function(){return i.e(1532).then(i.bind(i,1532))}))},inheritAttrs:!1,props:{starColor:{type:String,default:"#0f00ff"},showAverageRating:{type:Boolean,default:!0,description:"Boolean for whether the average rating should be displayed in the header."},enableTitle:{type:Boolean,default:!0,description:"Boolean for whether the title should be displayed or not in the header."},showThumbnail:{type:Boolean,default:!0,description:"Boolean for whether the title thumbnail shoud be displayed."},widgetHeaderThumbnailStyle:{type:String,default:"circle",description:"String for the border radius for the Widget Header Thumbnail Image, it can be circle or rounded."},showNumberOfMedia:{type:Boolean,default:!0,description:"Boolean for whether the number of media should be displayed"},title:{type:String,default:""},numberOfMedia:{type:[Number],required:!0},widgetHeaderPhoto:{type:String,default:""},averageRating:{type:[Number],default:0},averageRatingNumberOfReviews:{type:Number,default:0,description:"The total number of reviews for the widget (including the filtered reviews)."},showButton:{type:Boolean,default:!0},buttonText:{type:String,default:""},buttonColor:{type:String,default:"#0033ff"},buttonLink:{type:String,default:""},reviewsButtonLink:{type:String,default:""},isReviewsWidget:{type:Boolean,default:!1},isTemplatePreview:{type:Boolean,default:!1},titleFontSize:{type:Number,default:18},titleColor:{type:String,default:"#000000"},language:{type:String,default:""},buttonTextColor:{type:String,default:"#ffffff"},buttonHoverState:{type:String,default:"#1947ff"},buttonSize:{type:String,default:"medium"},buttonCornerRadius:{type:Number,default:3},buttonBorderWidth:{type:Number,default:0},buttonBorderColor:{type:String,default:"#0033ff"},widgetTheme:{type:String,default:"Light"},headerAlignment:{type:String,default:"default"},spaceBetweenHeaderAndFeed:{type:Number,default:25},verticalAutoplay:{type:Boolean,default:!1,description:"Boolean value for if the verticalAutoplay is set."},isInEditor:{type:Boolean,default:!1},overridenTitle:{type:String,default:""},widgetMode:{type:String,default:"live",validator:function(e){return["live","preview","editor"].includes(e)}},ratingIcon:{type:String,default:"star-icon"},usedIn:{type:String,validator:function(e){return["widget","drawer-lightbox"].includes(e)},default:"widget"},sources:{type:Array,default:function(){return[]}},isCreatedFromTemplate:{type:Boolean,default:!1},buttonStyle:{type:String,default:"text only",validator:function(e){return["text only","text and icon"].includes(e)}},buttonIcon:{type:String,default:"",description:"The icon to be displayed in the button"},uploadButtonIcon:{type:String,default:""},headerStyle:{type:String,default:"default",validator:function(e){return["default","with filters"].includes(e)}},selectedLayout:{type:String,default:"feed"},sourceSubtypes:{type:Array,default:function(){return[]}},showFilterKeywords:{type:Boolean,default:!1},filterKeywords:{type:Array,default:function(){return[]}},filterMediaUrl:{type:String,default:""},widgetTagsList:{type:Array,default:function(){return[]}},showWidgetTags:{type:Boolean,default:!1},updatedWidgetSettings:{type:Object,default:function(){return{}}},followButtonClickEventId:{type:String,default:""},embeddedBaseUrl:{type:String,default:""}},emits:["leave-a-review","handle-filtered-data"],data:function(){return{scopedFilterKeywords:[],scopedWidgetTags:[]}},computed:{computedStarsColor:function(){return"Rainbow"===this.widgetTheme?"#000000":this.starColor},displayHeaderBorder:function(){return["left","right","center"].includes(this.headerAlignment)&&this.showButton},computedHeaderBottomMargin:function(){return"".concat(this.spaceBetweenHeaderAndFeed,"px")},computedButtonBorder:function(){return"".concat(this.buttonBorderWidth,"px solid ").concat(this.buttonBorderColor)},computedButtonCornerRadius:function(){return"".concat(this.buttonCornerRadius,"px")},computedButtonPadding:function(){switch(this.buttonSize){case"small":return"6px 10px";case"large":return"14px 18px";default:return"10px 14px"}},computedTitleFontSize:function(){return"".concat(this.titleFontSize,"px")},displayTitle:function(){return"badge"===this.selectedLayout&&"drawer-lightbox"===this.usedIn||("editor"===this.widgetMode?this.enableTitle:this.enableTitle&&this.title)},displayAverageRating:function(){return this.averageRating&&this.showAverageRating&&(this.isReviewsWidget||1===this.sources.length&&this.sources.includes("google")&&this.sourceSubtypes.includes("place"))},numMediaText:function(){return this.language?this.isReviewsWidget?1===this.numberOfMedia?this.$wt("w_review"):this.$wt("w_reviews"):1===this.numberOfMedia?this.$wt("w_post"):this.$wt("w_posts"):""},fixedAverageRating:function(){return this.averageRating.toFixed(1)},showWidgetHeaderPhoto:function(){return this.widgetHeaderPhoto&&this.showThumbnail&&!this.isReviewsWidget},buttonLinkContext:function(){var e=this;return this.isReviewsWidget?this.reviewsButtonLink?{ariaLabel:"Open button link in new tab",events:{}}:{ariaLabel:"Open leave a review form",events:{click:function(){e.$emit("leave-a-review")},keyup:function(t){13===t.keyCode&&e.$emit("leave-a-review")}}}:this.buttonLink?{ariaLabel:"Open button link in new tab",events:{}}:{ariaLabel:"Open button link in new tab",events:{click:function(){e.$emit("leave-a-review")},keyup:function(t){13===t.keyCode&&e.$emit("leave-a-review")}}}},headerAlignmentSetting:function(){switch(this.headerAlignment){case"center":return" es-header-align-center";case"left":return" es-header-align-left";case"right":return" es-header-align-right";default:return""}},computedThumbnailClasses:function(){return"rounded"===this.widgetHeaderThumbnailStyle?"es-thumbnail-rounded":null},computedTextAlignment:function(){return this.showWidgetHeaderPhoto?"flex-start":(0,y.q4)(this.headerAlignment)},headerAlignmentClasses:function(){if(!this.isTemplatePreview){var e="es-widget-header-container-template es-header-container-responsive";return 25!==this.spaceBetweenHeaderAndFeed&&(e+=" es-header-margin-b"),this.verticalAutoplay&&(e+=" es-header-fixed"),e+=this.headerAlignmentSetting,"drawer-lightbox"===this.usedIn&&(e+=" es-header-drawer"),{container:e,details:"es-widget-details-container-template",items:"es-align-header-template"}}var t="es-widget-header-container";return 25!==this.spaceBetweenHeaderAndFeed&&(t+=" es-header-margin-b"),{container:t+=this.headerAlignmentSetting,details:"es-widget-details-container",items:"es-align-header-items"}},computedButtonText:function(){return this.buttonText||"editor"!==this.widgetMode?this.language?"Leave a review"===this.buttonText?this.$wt("w_leave_review"):"Follow Us"===this.buttonText?this.$wt("w_follow_us"):"Share your post"===this.buttonText?this.$wt("w_share_post"):this.buttonText:this.buttonText:this.$wt("w_text_goes_here")},computedThemeTextColor:function(){return"drawer-lightbox"===this.usedIn?{numMedias:"#000000",imageBorder:"#2f3137",headerBg:"#000000"}:"Dark"===this.widgetTheme?{numMedias:"#ffffff",imageBorder:"#2f3137",headerBg:"#000000"}:{numMedias:"#464b5b",imageBorder:"#d6dae4",headerBg:"#ffffff"}},computedEditorHeaderHeight:function(){if(this.isInEditor&&this.isCreatedFromTemplate&&this.verticalAutoplay)return 120;var e=document.querySelector(".editor-header-container");return(null==e?void 0:e.offsetHeight)||60},computedPreviewHeaderHeight:function(){try{var e=parent.document.querySelector(".editor-header-container");return"".concat((null==e?void 0:e.offsetHeight)-61,"px")||0}catch(e){return"0"}},computedHeaderTitle:function(){if(this.overridenTitle)return this.overridenTitle;if(this.verticalAutoplay){var e,t;if((null===(e=this.title)||void 0===e?void 0:e.length)>13&&window.innerWidth<640)return"".concat(this.title.slice(0,13),"...");if((null===(t=this.title)||void 0===t?void 0:t.length)>26)return"".concat(this.title.slice(0,26),"...")}return this.title},computedFixedHeaderContext:function(){return this.isInEditor?{top:"".concat(this.computedEditorHeaderHeight,"px"),maxW:"440px",position:"fixed"}:{top:this.computedPreviewHeaderHeight,maxW:"500px",position:"sticky"}},computedTitleTooltip:function(){return this.overridenTitle?this.overridenTitle:this.computedHeaderTitle},computedReviewsMobileSpacing:function(){return this.isReviewsWidget?"5px":"0"},computedButtonIcon:function(){return this.buttonIcon.split("-")[0]},showRating:function(){return"drawer-lightbox"!==this.usedIn||"with filters"!==this.headerStyle},computedRatingAlingment:function(){return(0,y.q4)(this.headerAlignment)},showHeaderFilters:function(){return this.showFilterKeywords||this.showWidgetTags},filtersList:function(){return this.showFilterKeywords?this.scopedFilterKeywords:this.showWidgetTags?this.scopedWidgetTags:[]}},watch:{showFilterKeywords:function(){this.showFilterKeywords&&this.modifyFilterKeywords()},showWidgetTags:function(){this.showWidgetTags&&this.modifyWidgetTags()},widgetTagsList:function(){this.showWidgetTags&&this.modifyWidgetTags()}},created:function(){this.showFilterKeywords&&this.modifyFilterKeywords(),this.showWidgetTags&&this.modifyWidgetTags()},methods:{handleButtonClick:function(){return this.followButtonClickEventId&&this.embeddedBaseUrl&&(0,b.cf)(this.embeddedBaseUrl,this.followButtonClickEventId),this.isReviewsWidget?this.reviewsButtonLink?window.open(this.reviewsButtonLink,"_blank"):window.open("javascript:void(0)","_self"):this.buttonLink?window.open(this.buttonLink,"_blank"):window.open("javascript:void(0)","_self")},modifyFilterKeywords:function(){this.filterKeywords&&this.filterKeywords.length&&(1!==this.filterKeywords.length||"The review provided does not contain any nouns."!==this.filterKeywords[0])||(this.scopedFilterKeywords=[]),this.scopedFilterKeywords=this.filterKeywords.map((function(e){return{text:e,loading:!1,active:!1}}))},modifyWidgetTags:function(){this.widgetTagsList.length||(this.scopedWidgetTags=[]),this.scopedWidgetTags=this.widgetTagsList.map((function(e){return{text:e.name,loading:!1,active:!1}}))},handleFilterClick:function(e){this.showFilterKeywords&&this.handleKeywordClick(e),this.showWidgetTags&&this.handleFilterByTag(e)},handleKeywordClick:function(e){var t=this;return(0,p.A)(m().mark((function i(){var n,r,o,a,s,d;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("all"!==e){i.next=3;break}return t.$emit("handle-filtered-data",null),i.abrupt("return");case 3:if(n=t.scopedFilterKeywords.find((function(t){return t.text===e}))){i.next=6;break}return i.abrupt("return");case 6:return n.loading=!0,r=!Object.keys(t.updatedWidgetSettings).includes("filterByKeywords"),o=[{key:"filterKeyword",value:e}],t.isInEditor&&!r&&o.push({key:"filterByKeywords",value:"true"}),i.next=12,(0,b.x2)({filterMediaUrl:t.filterMediaUrl,params:o});case 12:a=i.sent,s=a.success,d=a.data,s&&(n.loading=!1,n.active=!0),t.$emit("handle-filtered-data",{data:d,keyword:e});case 17:case"end":return i.stop()}}),i)})))()},handleFilterByTag:function(e){var t=this;return(0,p.A)(m().mark((function i(){var n,r,o,a,s,d,u;return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("all"!==e){i.next=3;break}return t.$emit("handle-filtered-data",null),i.abrupt("return");case 3:return n=t.scopedWidgetTags.find((function(t){return t.text===e})),r=t.widgetTagsList.find((function(t){return t.name===e})).id,n.loading=!0,o=!Object.keys(t.updatedWidgetSettings).includes("interactiveFilterByTag"),a=[{key:"filterByTags",value:"[".concat(r,"]")}],t.isInEditor&&!o&&a.push({key:"interactiveFilterByTag",value:"true"}),i.next=11,(0,b.x2)({filterMediaUrl:t.filterMediaUrl,params:a});case 11:s=i.sent,d=s.success,u=s.data,d&&(n.loading=!1,n.active=!0),t.$emit("handle-filtered-data",{data:u,tag:e});case 16:case"end":return i.stop()}}),i)})))()},getLogoTypeRendererProps:v.Np}},I=function(){(0,C.$9)((function(e){return{"5679e24c":e.computedHeaderBottomMargin,"75e1eaf2":e.computedRatingAlingment,"6bedf0cc":e.computedThemeTextColor.imageBorder,"8b57e938":e.titleColor,"4f273042":e.computedTitleFontSize,"723bd64c":e.computedThemeTextColor.numMedias,"22877ef8":e.buttonColor,"3ce46202":e.computedButtonCornerRadius,90491438:e.computedButtonBorder,"6220a96a":e.buttonTextColor,"0f817159":e.computedButtonPadding,"68a4d380":e.buttonHoverState,"2505a66d":e.computedThemeTextColor.headerBg,f65b5b26:e.computedFixedHeaderContext.maxW,"6a3fd723":e.computedFixedHeaderContext.position,bd9fa1ca:e.computedFixedHeaderContext.top,"6e6be010":e.computedTextAlignment,d294b268:e.computedReviewsMobileSpacing}}))},R=x.setup;x.setup=R?function(e,t){return I(),R(e,t)}:I;var k=x;const L=(0,i(6262).A)(k,[["render",function(e,t,i,p,w,m){var v=(0,n.g2)("header-rating-element"),y=(0,n.g2)("logo-type-renderer"),b=(0,n.g2)("keyword-filters");return(0,n.uX)(),(0,n.CE)("div",{id:"es-widget-header-container-template",class:(0,r.C4)(m.headerAlignmentClasses.container)},[(0,n.Lk)("div",{class:(0,r.C4)(m.headerAlignmentClasses.details)},[m.showWidgetHeaderPhoto?((0,n.uX)(),(0,n.CE)("img",{key:0,src:i.widgetHeaderPhoto,alt:"Thumbnail image for the widget header",class:(0,r.C4)(["es-widget-header-image",m.computedThumbnailClasses])},null,10,o)):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",{class:(0,r.C4)(m.headerAlignmentClasses.items)},[(0,n.RG)(e.$slots,"widget-header-title",{},(function(){return[m.displayTitle?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"es-widget-header-details-title",title:m.computedTitleTooltip,innerHTML:m.computedHeaderTitle},null,8,a)):(0,n.Q3)("v-if",!0)]})),m.showRating?((0,n.uX)(),(0,n.CE)("div",s,[m.displayAverageRating?((0,n.uX)(),(0,n.Wv)(v,{key:0,"average-rating":i.averageRating,"star-color":m.computedStarsColor,"rating-icon":i.ratingIcon},null,8,["average-rating","star-color","rating-icon"])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",d,[m.displayAverageRating?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("span",u,(0,r.v_)(m.fixedAverageRating),1),(0,n.eW)(" "+(0,r.v_)(e.$wt("w_rating_of"))+" ",1),(0,n.Lk)("span",l,(0,r.v_)(i.averageRatingNumberOfReviews),1),(0,n.eW)(" "+(0,r.v_)(e.$wt("w_reviews")),1)],64)):i.showNumberOfMedia?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.eW)((0,r.v_)(i.numberOfMedia)+" "+(0,r.v_)(m.numMediaText),1)],64)):(0,n.Q3)("v-if",!0)])])):(0,n.Q3)("v-if",!0)],2)],2),m.displayHeaderBorder?((0,n.uX)(),(0,n.CE)("span",c)):(0,n.Q3)("v-if",!0),i.showButton?((0,n.uX)(),(0,n.CE)("a",(0,n.v6)({key:1,class:"es-header-btn","aria-label":m.buttonLinkContext.ariaLabel,title:m.computedButtonText,onClick:t[0]||(t[0]=function(){return m.handleButtonClick&&m.handleButtonClick.apply(m,arguments)})},(0,n.Tb)(m.buttonLinkContext.events,!0)),["text only"!==i.buttonStyle?((0,n.uX)(),(0,n.CE)("div",h,[i.uploadButtonIcon?((0,n.uX)(),(0,n.CE)("img",{key:0,class:"es-button-image",src:i.uploadButtonIcon,alt:"Button icon"},null,8,f)):((0,n.uX)(),(0,n.Wv)(y,(0,r._B)((0,n.v6)({key:1},m.getLogoTypeRendererProps({buttonIcon:i.buttonIcon,computedButtonIcon:m.computedButtonIcon,buttonTextColor:i.buttonTextColor}))),null,16))])):(0,n.Q3)("v-if",!0),(0,n.eW)(" "+(0,r.v_)(m.computedButtonText),1)],16,g)):(0,n.Q3)("v-if",!0),m.showHeaderFilters?((0,n.uX)(),(0,n.Wv)(b,{key:2,class:(0,r.C4)(m.headerAlignmentSetting),keywords:m.filtersList,theme:i.widgetTheme,onKeywordClick:m.handleFilterClick},null,8,["class","keywords","theme","onKeywordClick"])):(0,n.Q3)("v-if",!0),(0,n.RG)(e.$slots,"filter-by-source")],2)}]]);var P=L},4069:function(e,t,i){i.r(t),i.d(t,{default:function(){return f}});var n=i(641),r=i(33),o=["aria-label","onClick","onKeyup"],a=["src","alt"],s={class:"es-source-name"};i(4423),i(8130),i(8598),i(8706);var d=i(4229),u=i(3751),l={name:"WidgetSourceFilters",components:{LogoTypeRenderer:d.default},props:{sources:{type:Array,required:!0},widgetTheme:{type:String,default:"Light"},usedIn:{type:String,validator:function(e){return["widget","drawer-lightbox"].includes(e)},default:"widget"},isVerticalAutoplayActive:{type:Boolean,default:!1},headerAlignment:{type:String,validator:function(e){return["left","center","right","default"].includes(e)},default:"default"},selectedFilterSource:{type:[String,Number],default:""},allMediaText:{type:String,default:"w_all_posts"},enableFilterBySpecificSources:{type:Boolean,default:!1},isReviewsWidget:{type:Boolean,default:!1}},emits:["select-source"],data:function(){return{selectedSource:this.selectedFilterSource||null}},computed:{computedContainerClasses:function(){var e=["sources-container"];return this.isVerticalAutoplayActive&&e.push("flex-wrap"),"Dark"===this.widgetTheme&&e.push("es-dark"),"drawer-lightbox"===this.usedIn&&e.push("es-drawer-sources"),e.join(" ")},computedAlignment:function(){switch(this.headerAlignment){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}},methods:{handleSourceClick:function(e){if(!e)return this.selectedSource=null,void this.$emit("select-source",null);this.enableFilterBySpecificSources?this.selectedSource=this.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:this.selectedSource=null==e?void 0:e.sourceType,this.$emit("select-source",e)},handleSourceKeyup:function(e,t){13===e.keyCode&&this.handleSourceClick(t)},isSourceSelected:function(e){return null===e?null===this.selectedSource:this.enableFilterBySpecificSources?(this.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id)===this.selectedSource:(null==e?void 0:e.sourceType)===this.selectedSource},colorBySourceType:function(e){return"Dark"===this.widgetTheme?"#ffffff":"google"===e?"#000001":"#000000"},formattedSourceName:function(e){var t=e.sourceType,i=e.sourceName;return"custom"===t||this.enableFilterBySpecificSources?i:"embed_form"===t?"EmbedForms":"rss"===t?"RSS":"youtube"===t?"YouTube":"twitter"===t?"X":"".concat(t[0].toUpperCase()).concat(t.substring(1))},showSourcePhoto:function(e){return"custom"===(null==e?void 0:e.sourceType)&&(null==e?void 0:e.sourceCoverPhotoLink)},isReviewsSource:function(e){return this.isReviewsWidget||"google"===(null==e?void 0:e.sourceType)}}},c=function(){(0,u.$9)((function(e){return{"416c3ab5":e.computedAlignment}}))},g=l.setup;l.setup=g?function(e,t){return c(),g(e,t)}:c;var h=l;var f=(0,i(6262).A)(h,[["render",function(e,t,i,d,u,l){var c=(0,n.g2)("logo-type-renderer");return(0,n.uX)(),(0,n.CE)("ul",{class:(0,r.C4)(l.computedContainerClasses)},[(0,n.Lk)("li",{class:(0,r.C4)(["source-item",{"active-source":l.isSourceSelected(null)}]),tabindex:"0",onClick:t[0]||(t[0]=function(e){return l.handleSourceClick(null)})},(0,r.v_)(e.$wt(i.allMediaText)),3),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.sources,(function(e){return(0,n.uX)(),(0,n.CE)("li",{key:e.sourceId,class:(0,r.C4)(["source-item",{"active-source":l.isSourceSelected(e)}]),tabindex:"0","aria-label":"Open posts from ".concat(e.sourceType),onClick:function(t){return l.handleSourceClick(e)},onKeyup:function(t){return l.handleSourceKeyup(t,e)}},[l.showSourcePhoto(e)?((0,n.uX)(),(0,n.CE)("img",{key:0,class:(0,r.C4)(["es-source-img",{grayscale:!l.isSourceSelected(e)}]),src:e.sourceCoverPhotoLink,alt:"Logo for ".concat(e.sourceType)},null,10,a)):((0,n.uX)(),(0,n.Wv)(c,{key:1,"source-type":e.sourceType,"fill-color":l.isSourceSelected(e)?"":l.colorBySourceType(e.sourceType),class:"source-logo"},null,8,["source-type","fill-color"])),(0,n.Lk)("span",s,(0,r.v_)(l.formattedSourceName(e)),1)],42,o)})),128))],2)}]])},4229:function(e,t,i){i.r(t),i.d(t,{default:function(){return o}});var n=i(641);i(3792),i(6099),i(3362),i(7764),i(2953),i(4423),i(1699),i(7495),i(5440),i(8706);var r={components:{FacebookLogo:(0,n.$V)((function(){return i.e(5779).then(i.bind(i,5779))})),TwitterLogo:(0,n.$V)((function(){return i.e(1254).then(i.bind(i,1254))})),GoogleLogo:(0,n.$V)((function(){return i.e(3423).then(i.bind(i,3423))})),CustomLogo:(0,n.$V)((function(){return i.e(7799).then(i.bind(i,7799))})),YelpLogo:(0,n.$V)((function(){return i.e(8073).then(i.bind(i,8073))})),InstagramLogo:(0,n.$V)((function(){return i.e(3074).then(i.bind(i,3074))})),YoutubeLogo:(0,n.$V)((function(){return i.e(6715).then(i.bind(i,6715))})),VimeoLogo:(0,n.$V)((function(){return i.e(9073).then(i.bind(i,9073))})),TiktokLogo:(0,n.$V)((function(){return i.e(4168).then(i.bind(i,4168))})),PinterestLogo:(0,n.$V)((function(){return i.e(2175).then(i.bind(i,2175))})),EmbedFormsLogo:(0,n.$V)((function(){return i.e(3847).then(i.bind(i,3847))})),LinkedinLogo:(0,n.$V)((function(){return i.e(7069).then(i.bind(i,7069))})),RssFeedLogo:(0,n.$V)((function(){return i.e(6942).then(i.bind(i,6942))})),HeartIcon:(0,n.$V)((function(){return i.e(8881).then(i.bind(i,8881))})),ThumbupIcon:(0,n.$V)((function(){return i.e(1675).then(i.bind(i,1675))})),StarLogo:(0,n.$V)((function(){return i.e(2842).then(i.bind(i,2842))})),ThreadsLogo:(0,n.$V)((function(){return i.e(8418).then(i.bind(i,8418))}))},props:{sourceType:{type:String,required:!0,description:"The type of the source used to display the logo on the card"},fillColor:{type:String,default:""}},computed:{logoSvgComponent:function(){var e=this.sourceType;if(!e)return"span";if("embed_form"===e&&(e="EmbedForms"),e.includes("sample_")&&(e=e.replace("sample_","")),"rss"===e)return"RssFeedLogo";var t="".concat(e.charAt(0).toUpperCase()).concat(e.substring(1));return["heart","thumbup"].includes(e)?"".concat(t,"Icon"):"".concat(t,"Logo")}}};var o=(0,i(6262).A)(r,[["render",function(e,t,i,r,o,a){return(0,n.uX)(),(0,n.Wv)((0,n.$y)(a.logoSvgComponent),{"fill-color":i.fillColor},null,8,["fill-color"])}]])},2087:function(e,t,i){var n=i(34),r=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&r(e)===e}},2333:function(e,t,i){var n=i(1291),r=i(655),o=i(7750),a=RangeError;e.exports=function(e){var t=r(o(this)),i="",s=n(e);if(s<0||s===1/0)throw new a("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},1240:function(e,t,i){var n=i(9504);e.exports=n(1..valueOf)},8130:function(e,t,i){var n=i(6518),r=i(6395),o=i(3724),a=i(4475),s=i(9167),d=i(9504),u=i(2796),l=i(9297),c=i(3167),g=i(1625),h=i(757),f=i(2777),p=i(9039),w=i(8480).f,m=i(7347).f,v=i(4913).f,y=i(1240),b=i(3802).trim,S="Number",T=a[S],C=s[S],x=T.prototype,I=a.TypeError,R=d("".slice),k=d("".charCodeAt),L=function(e){var t,i,n,r,o,a,s,d,u=f(e,"number");if(h(u))throw new I("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=b(u),43===(t=k(u,0))||45===t){if(88===(i=k(u,2))||120===i)return NaN}else if(48===t){switch(k(u,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(a=(o=R(u,2)).length,s=0;s<a;s++)if((d=k(o,s))<48||d>r)return NaN;return parseInt(o,n)}return+u},P=u(S,!T(" 0o1")||!T("0b1")||T("+0x1")),W=function(e){var t,i=arguments.length<1?0:T(function(e){var t=f(e,"number");return"bigint"==typeof t?t:L(t)}(e));return g(x,t=this)&&p((function(){y(t)}))?c(Object(i),this,W):i};W.prototype=x,P&&!r&&(x.constructor=W),n({global:!0,constructor:!0,wrap:!0,forced:P},{Number:W});var A=function(e,t){for(var i,n=o?w(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),r=0;n.length>r;r++)l(t,i=n[r])&&!l(e,i)&&v(e,i,m(t,i))};r&&C&&A(s[S],C),(P||r)&&A(s[S],T)},9149:function(e,t,i){var n=i(6518),r=i(2087),o=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},9868:function(e,t,i){var n=i(6518),r=i(9504),o=i(1291),a=i(1240),s=i(2333),d=i(9039),u=RangeError,l=String,c=Math.floor,g=r(s),h=r("".slice),f=r(1..toFixed),p=function(e,t,i){return 0===t?i:t%2==1?p(e,t-1,i*e):p(e*e,t/2,i)},w=function(e,t,i){for(var n=-1,r=i;++n<6;)r+=t*e[n],e[n]=r%1e7,r=c(r/1e7)},m=function(e,t){for(var i=6,n=0;--i>=0;)n+=e[i],e[i]=c(n/t),n=n%t*1e7},v=function(e){for(var t=6,i="";--t>=0;)if(""!==i||0===t||0!==e[t]){var n=l(e[t]);i=""===i?n:i+g("0",7-n.length)+n}return i};n({target:"Number",proto:!0,forced:d((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!d((function(){f({})}))},{toFixed:function(e){var t,i,n,r,s=a(this),d=o(e),c=[0,0,0,0,0,0],f="",y="0";if(d<0||d>20)throw new u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return l(s);if(s<0&&(f="-",s=-s),s>1e-21)if(i=(t=function(e){for(var t=0,i=e;i>=4096;)t+=12,i/=4096;for(;i>=2;)t+=1,i/=2;return t}(s*p(2,69,1))-69)<0?s*p(2,-t,1):s/p(2,t,1),i*=4503599627370496,(t=52-t)>0){for(w(c,0,i),n=d;n>=7;)w(c,1e7,0),n-=7;for(w(c,p(10,n,1),0),n=t-1;n>=23;)m(c,1<<23),n-=23;m(c,1<<n),w(c,1,1),m(c,2),y=v(c)}else w(c,0,i),w(c,1<<-t,0),y=v(c)+g("0",d);return y=d>0?f+((r=y.length)<=d?"0."+g("0",d-r)+y:h(y,0,r-d)+"."+h(y,r-d)):f+y}})},9085:function(e,t,i){var n=i(6518),r=i(4213);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},8781:function(e,t,i){var n=i(350).PROPER,r=i(6840),o=i(8551),a=i(655),s=i(9039),d=i(1034),u="toString",l=RegExp.prototype[u],c=s((function(){return"/a/b"!==l.call({source:"a",flags:"b"})})),g=n&&l.name!==u;(c||g)&&r(RegExp.prototype,u,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(d(e))}),{unsafe:!0})},296:function(e,t,i){i.d(t,{A:function(){return r}});var n=i(7800);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,r,o,a,s=[],d=!0,u=!1;try{if(o=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;d=!1}else for(;!(d=(n=o.call(i)).done)&&(s.push(n.value),s.length!==t);d=!0);}catch(e){u=!0,r=e}finally{try{if(!d&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||(0,n.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[4329,1106,3275,5050,9410,9661],(function(){return t=8189,e(e.s=t);var t}));e.O()}]);