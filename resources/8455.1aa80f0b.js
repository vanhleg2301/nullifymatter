"use strict";(self.webpackChunkembedsocial_live=self.webpackChunkembedsocial_live||[]).push([[8455],{8455:(t,e,i)=>{i.d(e,{J:()=>h,z:()=>d});i(4423),i(1699),i(7495),i(744),i(5440),i(906),i(3792),i(2953);var a=i(164),o=i(5333),s=i(7468),r=i(274),n=i(522),l=i(1399),d={inheritAttrs:!1,data:()=>({showVideoComponent:!1,textIsOverflowing:!1,captionIsOpened:!1,captionOffsetHeight:null,captionScrollHeight:null,windowWidth:window.innerWidth,pictureElementHeight:null}),props:{id:{type:[String,Number],default:0},index:{type:Number,default:0},showAvatarImg:{type:Boolean,required:!0,description:"The value used to display the avatar image on the card"},avatarImgSource:{type:String,default:"",description:"The avatar image that is displayed on the card"},showUsername:{type:Boolean,default:!0,description:"The value used to display the username on the card"},username:{type:String,default:"",description:"The username that is displayed on the card"},showDate:{type:Boolean,default:!0,description:"The value used to display thedate on the card"},showLogo:{type:Boolean,default:!0,description:"The value used to display the source logo on the card"},showStars:{type:[Boolean,String],default:"",description:"The value used to display the stars on the card"},starColor:{type:String,default:"#ffb621"},showReviewTitle:{type:Boolean,default:!0,description:"The value used to display the review title on the card"},showPostCaption:{type:Boolean,default:!0,description:"Value for displaying the caption on the card"},title:{type:String,default:"",description:"The review title that is displayed on the card"},aiTitle:{type:String,default:"",description:"The AI generated review title that is displayed on the card"},showAiTitle:{type:Boolean,default:!1,description:"The value used to toggle the display of the ai generated review title on the card"},text:{type:String,default:"",description:"The text that is displayed on the card"},displayCaptionTextStyle:{type:String,default:"Short text"},showImage:{type:Boolean,default:!0,description:"The value used to display the image on the card"},imgLength:{type:Number,default:1,description:"The number of images in the card"},mediaImage:{type:[Object,null],required:!1,description:"The image that is displayed on the card"},mediaLargeImage:{type:[Object,null],required:!1,description:"The large image that is displayed on the card if the setting to show large images is enabled"},enableLargeImages:{type:Boolean,default:!1},sourceType:{type:String,default:"",description:"The type of the source used to display the logo on the card"},averageRating:{type:Number,default:0,description:"The total average rating from all reviews"},selectedElementsAlignment:{type:String,default:"",description:"The selected alignment for the text elements in the card"},selectedImagePosition:{type:String,default:"",description:"The selected position for the image in the card"},selectedImageFillMode:{type:String,default:"",description:"The selected fill mode for the image in the card"},linkLocation:{type:String,default:"No link"},mediaLink:{type:String,default:""},sourceLink:{type:String,default:""},equalCardHeight:{type:Boolean,default:!1},layoutType:{type:String,default:"",description:"The type of layout that the card is used for. Example: feed, slider"},showTextToggle:{type:Boolean,default:!1,description:"Boolean indecating whether the text toggle for the caption is displayed"},mediaType:{type:String,default:"",description:"The type for the media, image or video"},cornerRadius:{type:[String,Number],default:"15",description:"Border radius for the card container"},formattedDate:{type:String,default:"",description:"The formatted date that is displayed on the card"},paddingSize:{type:[String,Number],default:"20",description:"Padding size for the card container"},globalCtaData:{type:Object,default:()=>({})},mediaSourceLogo:{type:String,default:"",description:"link for the source logo"},mediaCta:{type:Object,default:()=>{}},widgetTheme:{type:String,default:"Light",validator:t=>["Light","Dark","Rainbow"].includes(t),description:'The chosen widget theme, could be "Light", "Dark" or "Rainbow".'},globalCtaDisabled:{type:Boolean,default:!1},productTags:{type:Array,default:()=>[]},widgetLanguage:{type:String,default:"english"},product:{type:String,default:"feed",description:'The product which the widget belongs to. Example: "feed", "reviews".'},captionTextColor:{type:String,default:"#000000"},reviewersNamePreview:{type:String,default:"first name"},imageShape:{type:String,default:"square"},enableVideoAutoplay:{type:Boolean,default:!1},videoAutoplayType:{type:String,default:"hover"},mediaVideoSource:{type:String,default:""},showFeedUsername:{type:Boolean,default:!0},cardBackgroundColor:{type:String,default:"#ffffff"},cardClasses:{type:Array,default:()=>[]},originalSourceLinkTarget:{type:String,default:"new tab"},shouldEnableDefaultReviewerAvatar:{type:Boolean,default:!1},ratingIcon:{type:String,default:"star-icon"},removeShadowOnHover:{type:Boolean,default:!1},cardType:{type:String,default:"classic"},numberOfTextRows:{type:String,default:""},enableCardClickEvent:{type:Boolean,default:!1},customCaptionTextRows:{type:String,default:""},slideTransitionStarted:{type:Boolean,required:!1},isInLightbox:{type:Boolean,default:!1},aiGeneratedSummary:{type:[String,null],default:null},customBadgeLink:{type:String,default:""},isBadgeCard:{type:Boolean,default:!1},isVerified:{type:Boolean,default:!1},enableAnalytics:{type:Boolean,default:!1},postClickEventId:{type:String,default:"",description:"The event id for the post click event for analytics"},clickLightboxEventId:{type:String,default:"",description:"The event id for the click lightbox event for analytics"},callToActionClickEventId:{type:String,default:"",description:"The event id for the call to action click event for analytics"},iconClickEventId:{type:String,default:"",description:"The event id for the icon click event for analytics"},embeddedBaseUrl:{type:String,default:""},showSourceLocation:{type:Boolean,default:!1},sourceLocation:{type:String,default:""},styleAttribute:{type:Object,default:()=>({})},fixedOrder:{type:Boolean,default:!1},pinStatus:{type:Boolean,default:!1},priority:{type:[Number,null],default:null},mediaVideo:{type:Object,default:null},improveCaptionAccessibility:{type:Boolean,default:!1}},emits:["card-mounted"],computed:{computedAriaLabelText(){return"Lightbox"===this.linkLocation?"Open post in lightbox":"Open post on ".concat(this.sourceType)},showVerifiedUsername(){return this.showUsername&&this.isVerified},showImageContainer(){var t,e;return"portrait"===this.cardType?null!==this.avatarImgSource&&this.showImage:this.showImage&&(null!==this.mediaImage&&(null===(t=this.mediaImage)||void 0===t?void 0:t.source)||this.enableLargeImages&&null!==this.mediaLargeImage&&(null===(e=this.mediaLargeImage)||void 0===e?void 0:e.source))},displayTagSvgInTextContainer(){var t;return["feed","reviews"].includes(this.product)&&this.productTags.length&&(!(null!==(t=this.mediaImage)&&void 0!==t&&t.source)||!this.showImage)||!this.showImage&&this.productTags.length},displayTagSvgInImage(){var t;return["feed","feedlink"].includes(this.product)&&this.productTags.length&&(null===(t=this.mediaImage)||void 0===t?void 0:t.source)&&this.showImage||["feed","reviews"].includes(this.product)&&this.productTags.length},ctaContext(){var t,e,i,a,o,s,r,n="button";return null!==this.mediaCta?(this.mediaCta.linkIndicator&&(n=this.mediaCta.linkIndicator),{ctaEnabled:!0,ctaLink:(null===(e=this.mediaCta)||void 0===e?void 0:e.link)||"",ctaButtonText:(null===(i=this.mediaCta)||void 0===i?void 0:i.buttonText)||"Buy",ctaButtonColor:null===(a=this.mediaCta)||void 0===a?void 0:a.buttonColor,ctaButtonTextColor:null===(o=this.mediaCta)||void 0===o?void 0:o.buttonTextColor,ctaIndicator:n,ctaButtonFontStyle:(null===(s=this.mediaCta)||void 0===s?void 0:s.buttonFontStyle)||"normal"}):!this.globalCtaDisabled&&this.globalCtaData.ctaEnabled?(this.globalCtaData.ctaIndicator&&(n=this.globalCtaData.ctaIndicator),{ctaEnabled:!0,ctaLink:this.globalCtaData.ctaLink||"",ctaButtonText:this.globalCtaData.ctaButtonText||"Buy",ctaButtonColor:this.globalCtaData.ctaButtonColor,ctaButtonTextColor:this.globalCtaData.ctaButtonTextColor,ctaIndicator:n,ctaButtonFontStyle:(null===(r=this.mediaCta)||void 0===r?void 0:r.buttonFontStyle)||"normal"}):{ctaEnabled:!1,ctaLink:"",ctaButtonText:"",ctaButtonColor:"",ctaButtonTextColor:"",ctaButtonFontStyle:(null===(t=this.mediaCta)||void 0===t?void 0:t.buttonFontStyle)||"normal"}},mixedInteractionLinkLocationCursor(){return this.productTags.length||this.ctaContext.ctaLink||this.enableCardClickEvent?"pointer":"default"},computedCursorProperty(){return"Mixed Post Interaction Mode"===this.linkLocation?this.mixedInteractionLinkLocationCursor:(0,l.nj)("CTA"===this.linkLocation&&this.ctaContext.ctaEnabled,this.customBadgeLink).includes(this.linkLocation)||this.enableCardClickEvent?"pointer":"default"},computedCornerRadius(){return"".concat(this.cornerRadius,"px")},computedPaddingSize(){return"".concat(this.paddingSize,"px")},computedTextBoxDisplay(){return!!(this.showUsername||this.showAvatarImg||this.showDate||this.showLogo||this.showTextToggle)},computedTextClasses(){var t="es-text-full";return"Short text"===this.displayCaptionTextStyle&&(t=t.concat(" es-short-text")),t},displayTextToggle(){var t=this.$refs.captionText;return("media"!==this.cardType||"feed"!==this.product)&&(t?"Short text"===this.displayCaptionTextStyle&&this.showTextToggle&&(this.text.length||null!==this.aiGeneratedSummary)&&(t.classList.contains("es-text")||t.classList.contains("es-text-full")||t.classList.contains("es-short-text")||t.classList.contains("es-summary-text")):"Short text"===this.displayCaptionTextStyle&&this.showTextToggle&&(this.text.length||null!==this.aiGeneratedSummary)&&this.textIsOverflowing)},captionToggleText(){return this.showPostCaption?this.captionIsOpened?this.$wt("w_see_less"):this.$wt("w_see_more"):""},computedUsername(){if(!this.averageRating)return this.showFeedUsername?this.computedCardName.fullName:"";switch(this.reviewersNamePreview){case"full name":return this.computedCardName.fullName;case"first name":return this.computedCardName.firstName;case"short surname":return this.computedCardName.shortSurname;case"hide name":return""}},computedCardName(){if(!this.username)return{firstName:""};var t=this.username.split(" ");return t.length>1?{firstName:t[0],fullName:this.username,shortSurname:"".concat(t[0]," ").concat(t[1].slice(0,1),".")}:{firstName:this.username,fullName:this.username,shortSurname:this.username}},cardNotDisplayingImage(){var t,e;return!(this.showImage&&null!==(t=this.mediaImage)&&void 0!==t&&t.source&&null!==(e=this.mediaLargeImage)&&void 0!==e&&e.source)},computedCaptionRows(){return this.numberOfTextRows?+this.numberOfTextRows:this.averageRating||null!==this.aiGeneratedSummary?4:window.innerWidth<1110?1:this.cardNotDisplayingImage?8:3},computedCardText(){var t=this.text;return this.improveCaptionAccessibility&&(t=this.sanatizedCaptionText(this.text)),"collect"===this.sourceType?t.replace(/%20/g," ").replace(/%25/g,"%").replace(/%2C/g,","):"youtube"===this.sourceType?(0,r.Ns)(t):t},computedImageShape(){switch(this.imageShape){case"square":default:return"1/1";case"landscape":return"16/9";case"portrait":return"0.6";case"original":return"auto";case"reels":return"9/16"}},computedMediaImage(){return this.enableLargeImages?this.mediaLargeImage:this.mediaImage},showVideoElement(){return!(!this.isInLightbox||"video"!==this.mediaType||"tiktok"===this.sourceType)||!!(this.enableVideoAutoplay&&"video"===this.mediaType&&"tiktok"!==this.sourceType||"click"===this.videoAutoplayType)&&("on load"===this.videoAutoplayType&&"video"===this.mediaType?!["youtube","vimeo","tiktok"].includes(this.sourceType):this.isMobileOrTabletDevice&&"click"!==this.videoAutoplayType?"Lightbox"!==this.linkLocation:this.showVideoComponent&&"video"===this.mediaType)},disableCardClick(){var t=["media","product"],e=this.enableVideoAutoplay&&"click"===this.videoAutoplayType&&"video"===this.mediaType&&"tiktok"!==this.sourceType;return!(t.includes(this.cardType)||!e)||(!(!t.includes(this.cardType)||"autoplay"!==this.mediaCardHoverEffects||!e)||this.isMobileOrTabletDevice&&"Lightbox"!==this.linkLocation&&this.enableVideoAutoplay&&"video"===this.mediaType&&"tiktok"!==this.sourceType)},isCardFixed(){return this.fixedOrder&&this.pinStatus&&null!==this.priority},computedCardContainerClasses(){var t=[];return"Dark"===this.widgetTheme?t.push("es-dark"):"Rainbow"===this.widgetTheme?t.push(this.randomRainbowCardClass):"#ffffff"!==this.cardBackgroundColor.toLocaleLowerCase()&&t.push("es-card-background"),this.cardClasses&&t.push(this.cardClasses),this.removeShadowOnHover&&t.push("es-no-hover-shadow"),"portrait"===this.cardType&&t.push("es-portrait-card"),this.isCardFixed&&t.push("es-fixed-card","es-fixed-card-page-".concat(this.index),"es-fixed-card-unique-".concat(this.id)),t},randomRainbowCardClass(){return(0,s.NP)((0,l.HM)(),this.index)},computedAvatarBackgroundColor(){return"rss"===this.sourceType?"#212529":(0,s.NP)((0,l.Go)(),this.id)},computedShowCustomAvatar(){return"rss"===this.sourceType?this.showAvatarImg&&!this.avatarImgSource&&this.computedAvatarFirstLetter:this.showAvatarImg&&!this.avatarImgSource&&this.averageRating&&this.shouldEnableDefaultReviewerAvatar},computedAvatarFirstLetter(){return this.computedCardName?this.computedCardName.firstName.charAt(0).toUpperCase():""},showButtonLinkIndicator(){return this.ctaContext.ctaEnabled&&"button"===this.ctaContext.ctaIndicator},showIconLinkIndicator(){return this.ctaContext.ctaEnabled&&"icon"===this.ctaContext.ctaIndicator},computedTextToggleAriaLabelText(){return this.captionIsOpened?"Collapse post text":"Read entire post text"},showMediaCardTextBox(){return("autoplay"!==this.mediaCardHoverEffects||"video"!==this.mediaType)&&this.computedTextBoxDisplay},computedReviewTitle(){return this.showReviewTitle&&this.title?this.title:this.showAiTitle&&this.aiTitle?this.aiTitle:""},ctaButtonEvents(){return this.enableAnalytics?{click:()=>{this.registerAnalytics("cta")}}:{}},isMobileOrTabletDevice:()=>/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent),showLocation(){return this.showSourceLocation&&"google"===this.sourceType},customSourceWithMediaLink(){return"custom"===this.sourceType&&this.mediaLink},computedSourceLogoType(){if(this.customSourceWithMediaLink){var t=(0,r.BF)(this.mediaLink);return t&&l.Ok.includes(t)?t:this.sourceType}return this.sourceType},videoElementDynamicProps(){var t={};return this.pictureElementHeight&&this.pictureElementHeight>0&&(t.videoElementHeightOnLoad=this.pictureElementHeight),t}},created(){window.addEventListener("resize",(()=>{this.checkTextOverflow(),this.windowWidth=window.innerWidth})),setTimeout((()=>{this.checkTextOverflow()}),100)},mounted(){this.checkTextOverflow(),this.$emit("card-mounted")},methods:{sanatizedCaptionText(t){try{return(0,a.A)({replacementElementType:"span",appendAttributeToElements:{span:{class:"es-caption-text-link"}},html:t,hrefReplacementAttributeInNonAnchorElements:"data-href",allowedAttributes:[...o.r,"data-href"]})}catch(e){return t}},handleCardClick(t){if(this.registerAnalytics("post"),!this.isBadgeCard||!t.target.classList.contains("es-review-btn"))if(this.enableCardClickEvent)this.$emit("card-click",{id:this.id});else{if("Mixed Post Interaction Mode"===this.linkLocation)return this.productTags.length?void this.$emit("open-lightbox",t):void this.handleClickWithLinkLocationCTA("_blank");if(!this.disableCardClick){var e="_blank";if("same tab"===this.originalSourceLinkTarget&&(e="_top"),"Custom link"===this.linkLocation){if(!this.customBadgeLink)return;window.open(this.customBadgeLink,e)}if("Original source"===this.linkLocation){var i="custom"===this.sourceType?this.sourceLink:this.mediaLink;i&&setTimeout((()=>{window.open(i,e)}),0)}"CTA"!==this.linkLocation?"Lightbox"===this.linkLocation&&t&&this.$emit("open-lightbox",t):this.handleClickWithLinkLocationCTA(e)}}},handleClickWithLinkLocationCTA(t){this.ctaContext.ctaLink&&window.open(this.ctaContext.ctaLink,t)},handlePhotoMouseEnter(t){null!=t&&t.height&&(this.pictureElementHeight=t.height),"click"!==this.videoAutoplayType&&(this.isMobileOrTabletDevice&&"Lightbox"===this.linkLocation&&"click"!==this.videoAutoplayType||(this.showVideoComponent=!0))},handlePhotoClick(){"hover"!==this.videoAutoplayType&&(this.isMobileOrTabletDevice&&"Lightbox"===this.linkLocation&&"click"!==this.videoAutoplayType||(this.showVideoComponent=!0))},handleVideoIsPaused(){this.$emit("video-is-paused"),this.handleCardClick()},checkTextOverflow(){var t=this.$refs.captionText;t&&(this.captionOffsetHeight=t.offsetHeight,this.captionScrollHeight=t.scrollHeight,this.textIsOverflowing=this.captionOffsetHeight<this.captionScrollHeight)},handleCaptionTextClick(t){"A"===t.target.nodeName&&t.stopPropagation(),this.clickOnCaptionTextAccessabilityLinks(t)},clickOnCaptionTextAccessabilityLinks(t){if(this.improveCaptionAccessibility&&"SPAN"===t.target.nodeName&&t.target.classList.contains("es-caption-text-link")&&t.target.getAttribute("data-href")){t.stopPropagation();var e=t.target.getAttribute("data-href");window.open(e,"_blank")}},registerAnalytics(t){if(this.enableAnalytics){var e=null;switch(t.toLowerCase()){case"post":if("Lightbox"===this.linkLocation&&this.clickLightboxEventId)return void(0,n.lp)(this.embeddedBaseUrl,this.clickLightboxEventId);if("Original source"===this.linkLocation&&(e=this.postClickEventId),"CTA"===this.linkLocation&&(e=this.callToActionClickEventId),"Mixed Post Interaction Mode"===this.linkLocation){var i;if(this.productTags.length)return;null!==(i=this.ctaContext)&&void 0!==i&&i.ctaEnabled&&(e=this.callToActionClickEventId)}break;case"icon":e=this.iconClickEventId;break;default:e=this.callToActionClickEventId}e&&(0,n.cf)(this.embeddedBaseUrl,e)}},handleViewProductTagClick(t){if(t.stopImmediatePropagation(),"Original source"===this.linkLocation&&this.productTags.length){var e=1===this.productTags.length?this.productTags[0].product.url:this.productTags[this.productTags.length-1].product.url;window.open(e,this.target)}else this.handleCardClick(t)}}},h={methods:{handleCardClick(t){if(!this.disableCardClick){this.registerAnalytics("post");var e="_blank";if("same tab"===this.originalSourceLinkTarget&&(e="_top"),"Original source"===this.linkLocation){var i=this.mediaLink;"custom"===this.sourceType&&this.sourceLink&&(i=this.sourceLink),i&&setTimeout((()=>{window.open(i,e)}),0)}"Lightbox"===this.linkLocation&&t&&this.$emit("open-lightbox",t)}},handleVideoIsPaused(){this.$emit("video-is-paused"),this.handleCardClick()}}}},5333:(t,e,i)=>{i.d(e,{N:()=>o,r:()=>a});var a=["href","target","rel","title","class","id","style","data-attribute"],o=["p","s","em","u","h1","h2","h3","h4","h5","h6","span","strong","ul","li","ol"]},164:(t,e,i)=>{i.d(e,{A:()=>o});i(4423),i(1699),i(3792),i(2953),i(1392);var a=i(5333);const o=t=>{var{html:e,allowedAttributes:i=a.r,allowedTags:o=a.N,appendAttributeToElements:s,replacementElementType:r="div",hrefReplacementAttributeInNonAnchorElements:n=null}=t;if("string"!=typeof e)return"";var l=(new DOMParser).parseFromString(e,"text/html"),d=l.body,h=t=>{var e=(t=>{if(!o.includes(t.tagName.toLowerCase())){var e=l.createElement(r);for(Array.from(t.attributes).forEach((t=>{try{e.setAttribute(t.name,t.value)}catch(t){}}));t.firstChild;)e.appendChild(t.firstChild);t.replaceWith(e),t=e}return t})(t);(t=>{if(s){var e=s[t.tagName.toLowerCase()]||s[t.tagName];e&&Object.entries(e).forEach((e=>{var[i,a]=e;try{t.setAttribute(i,a)}catch(t){}}))}})(e),(t=>{if("a"===t.tagName.toLowerCase()){var e=t.getAttribute("href");e&&!e.startsWith("http")&&t.removeAttribute("href")}})(e),(t=>{Array.from(t.attributes).forEach((e=>{i.includes(e.name.toLowerCase())||t.removeAttribute(e.name),"href"===e.name.toLowerCase()&&"a"!==t.tagName.toLowerCase()&&(n&&t.setAttribute(n,e.value),t.removeAttribute(e.name))}))})(e),Array.from(e.children).forEach(h)};return Array.from(d.children).forEach(h),d.innerHTML}}}]);