"use strict";(self.webpackChunkembedsocial_live=self.webpackChunkembedsocial_live||[]).push([[3262],{4411:(e,t,i)=>{i.d(t,{A:()=>a});i(7495),i(744),i(8781);const a={computed:{computedAverageRating(){return Math.ceil(this.averageRating)},computedIconWidth(){return Number.isSafeInteger(this.averageRating)?100:this.averageRating.toString().split(".")[1][0]},iconSize(){return this.width&&this.height?{width:this.width,height:this.height}:{width:"20",height:"20"}}}}},8189:(e,t,i)=>{i(3792),i(2953),i(8408),i(7495),i(5746);var a=i(3751),r=i(641);i(3362);var o=i(33);var n=i(467),s=i(4705),d=(i(4423),i(8781),i(5440),i(1833)),l=i(9886),u=i(522),g=i(7468),c=i(274);const h={data:()=>({startingScrollPosition:window.pageYOffset,requestId:null}),computed:{widgetScrollSpeedSettingValue(){return this.widgetSettings?this.widgetSettings.layout_and_theme.autoplaySpeed:this.universalEditorMainStore.widgetSettings.layout_and_theme.autoplaySpeed},shouldDisableScroll(){return this.universalEditorMainStore?this.universalEditorMainStore.isCursorInWidget:this.isCursorInWidget},enabledAutoScrollInLayout(){return this.universalEditorMainStore?"feed"===this.universalEditorMainStore.widgetData.layout.name:"feed"===this.widgetData.layout.name}},watch:{shouldDisableScroll(e){this.universalEditorMainStore&&!this.universalEditorMainStore.widgetSettings.layout_and_theme.verticalAutoPlay||this.widgetSettings&&!this.widgetSettings.layout_and_theme.verticalAutoPlay||this.disableScrollAnimation||(e?(this.startingScrollPosition=window.pageYOffset,window.cancelAnimationFrame(this.requestId)):this.scrollToEndOfTarget())}},unmounted(){window.cancelAnimationFrame(this.requestId),this.startingScrollPosition=0,this.requestId=null},methods:{fixedNumOfRepeatingMedias(e){for(var t=[];t.length<300;)e.forEach((e=>{t.push(e)}));return t},widgetScrollSpeedOptions(e){switch(e){case 1500:return 5e5;case 2250:return 7e5;case 3e3:return 9e5;case 3750:return 12e5;case 4500:return 14e5;default:return 2e6}},scrollToEndOfTarget(){var e=document.querySelector("#es-main-widget"),t=null==e?void 0:e.scrollHeight,i=null,a=e=>{if(this.disableScrollAnimation||!this.enabledAutoScrollInLayout)return window.scrollTo({top:0}),window.cancelAnimationFrame(this.requestId+1),void(i=null);i||(i=e);var r=e-i,o=Math.min(r/this.widgetScrollSpeedOptions(this.widgetScrollSpeedSettingValue),1),n=this.startingScrollPosition+t*o;window.scrollTo(0,n),window.innerHeight+window.scrollY>=t&&(window.scrollTo({top:0}),i=null),this.requestId=window.requestAnimationFrame(a)};e.style.pointerEvents="all",this.requestId=window.requestAnimationFrame(a)}}};var p=i(9763),w=i(4069),m=i(7978),f=i(1429);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){(0,s.A)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var S={name:"LayoutType",components:{WidgetHeader:p.A,WidgetLayout:m.A,WidgetFooter:f.A,WidgetSourceFilters:w.default,ListProducts:(0,r.$V)((()=>i.e(100).then(i.bind(i,100)))),TranslatedByAi:(0,r.$V)((()=>i.e(9855).then(i.bind(i,9855))))},mixins:[h],data:()=>({loading:!0,isMediaLoading:!1,productId:(0,d.J1)(),embeddedBaseUrl:(0,d.Vg)(),widgetData:(0,d.LO)(),widgetSettings:(0,d.ES)(),widgetMedia:(0,d.Fg)(),numMaxMedia:(0,d.j6)(),averageRating:(0,d.p3)(),imagesPerPage:(0,d.tl)(),numPages:(0,d.Zo)(),isReviewsWidget:(0,d.W2)(),isTemplatePreview:(0,d.Bn)(),overridenTitle:(0,d.DM)(),shouldEnableDefaultReviewerAvatar:(0,d.mz)(),aiGeneratedSummary:(0,d.y5)(),enableOpenAIIntegration:(0,d.MJ)(),averageRatingNumberOfReviews:(0,d.C6)(),lightboxBaseUrl:(0,d.u0)(),hasMessagesCallback:!1,isCursorInWidget:!1,clientWidth:document.body.clientWidth,screenWidth:window.screen.width,isPreLoadedLightboxReady:!1,currentPage:1,msgData:{widgetRef:"",index:"",page:"",src:"",action:"create",iframeId:""},formMsgData:{reviewsRef:"",src:"",type:"",iframeId:"",action:"create"},isInEditor:!1,sourceTypeFilter:"",selectedSourceId:null,widgetTagsList:[],filterTagId:null,parentPageWidth:null}),computed:{mainContainerEvents(){return this.widgetSettings.layout_and_theme.verticalAutoPlay?{mouseenter:()=>{this.isCursorInWidget=!0},mouseleave:()=>{this.isCursorInWidget=!1}}:{}},showWidgetHeader(){return this.widgetSettings.layout_and_theme.showHeader&&![6,7,8].includes(this.widgetData.layout.id)},computedContainerPadding(){var e,t;return[6,7].includes(this.widgetData.layout.id)&&this.clientWidth<=786?"8px":"slider"!==(null===(e=this.widgetData)||void 0===e||null===(t=e.layout)||void 0===t?void 0:t.name)&&this.clientWidth<=786?"10px":"30px"},generateWidgetHeaderPhoto(){if(this.widgetSettings.header.thumbnailImageUrl)return this.widgetSettings.header.thumbnailImageUrl;for(var e="",t=0;t<this.widgetMedia.length;t++)if(this.widgetMedia[t].image){e=this.widgetMedia[t].image.source;break}return e},sourceTypes(){var e;return(0,g.DQ)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},sourceSubtypes(){var e;return(0,g.dq)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},showSourceTypeFilters(){return(this.widgetSettings.header.filterBySource||this.widgetSettings.header.filterBySourceId)&&this.computedSourcesForWidgetHeaderFilters&&this.computedSourcesForWidgetHeaderFilters.length&&"popup"!==this.widgetData.layout.name&&"badge"!==this.widgetData.layout.name},computedWidgetTagsList(){var e=[...this.widgetTagsList];if(!e.length)return[];var{filterByTags:t,excludeByTags:i}=this.widgetSettings.filters;return t.length?e.filter((e=>t.some((t=>t.id===e.id)))):i.length?e.filter((e=>!i.some((t=>t.id===e.id)))):e},generateWidgetHeaderContext(){return{headerProps:(0,l.iV)({widgetSettings:this.widgetSettings,updatedWidgetSettings:{},widgetHeaderPhoto:this.generateWidgetHeaderPhoto,numMaxMedia:this.numMaxMedia,averageRating:this.averageRating,averageRatingNumberOfReviews:this.averageRatingNumberOfReviews,isReviewsWidget:this.isReviewsWidget,isInEditor:!1,isCreatedFromTemplate:!1,overridenTitle:this.overridenTitle,filterMediaUrl:"".concat((0,d.uM)()).concat(this.widgetData.id),widgetTagsList:this.computedWidgetTagsList,embeddedBaseUrl:this.embeddedBaseUrl}),events:{leaveAReview:()=>{this.handleLeaveAReview()},handleFilteredData:e=>this.handleFilteredData(e)}}},generateWidgetFooter(){var e={loadMore:this.liveLoadMore,paginator:this.livePaginator,infiniteScroll:this.liveLoadMore},t="#000000";"Dark"===this.widgetSettings.layout_and_theme.chooseWidgetTheme&&(t="#ffffff");var i={currentPage:this.currentPage,numberOfPages:this.numPages,buttonColor:this.widgetSettings.header.buttonColor,language:this.widgetSettings.general.widgetLanguage,buttonTextColor:this.widgetSettings.header.buttonTextColor,buttonHoverState:this.widgetSettings.header.buttonHoverState,buttonSize:this.widgetSettings.header.buttonSize,buttonCornerRadius:this.widgetSettings.header.buttonCornerRadius,buttonBorderWidth:this.widgetSettings.header.buttonBorderWidth,buttonBorderColor:this.widgetSettings.header.buttonBorderColor,buttonText:this.widgetSettings.layout_and_theme.loadMoreText,widgetTheme:this.widgetSettings.layout_and_theme.chooseWidgetTheme,mediaLength:this.widgetMedia.length,loaderColor:t},{footerComponent:a,footerEvents:r}=(0,l.DH)(this.widgetSettings.layout_and_theme.navigation,e,i);return{footerComponent:a,footerProps:i,footerEvents:r}},computedWidgetMedia(){return this.widgetSettings.layout_and_theme.verticalAutoPlay?this.fixedNumOfRepeatingMedias(this.widgetMedia):this.widgetMedia},parentPageWidthComputed(){return"feed"!==this.widgetData.layout.name?null:this.parentPageWidth},generateWidgetComponent(){var e={openLightbox:(e,t)=>this.sendDataToParentIframe(e,t,"open_lightbox"),hidePopup:()=>this.sendDataToParentIframe({},0,"close_new_popup"),cardKeyup:(e,t,i)=>{if(13===e.keyCode){if("No link"===this.widgetSettings.card.linkLocation)return;"Original source"===this.widgetSettings.card.linkLocation?"new tab"===this.widgetSettings.card.originalSourceLinkTarget?window.open(i,"_blank"):window.open(i,"_top"):this.sendDataToParentIframe(e,t,"open_lightbox")}},leaveAReview:()=>{this.handleLeaveAReview()}};return(0,l.Mv)({widgetSettings:this.widgetSettings,widgetMedia:this.computedWidgetMedia,widgetData:this.widgetData,currentPage:this.currentPage,averageRating:this.averageRating,averageRatingNumberOfReviews:this.averageRatingNumberOfReviews,numMaxMedia:this.numMaxMedia,shouldEnableDefaultReviewerAvatar:this.shouldEnableDefaultReviewerAvatar,aiGeneratedSummary:this.aiGeneratedSummary,enableOpenAIIntegration:this.enableOpenAIIntegration,inUniversalEditor:this.isInEditor,isReviewsWidget:this.isReviewsWidget,averageRatingDescriptionText:this.widgetSettings.card.averageRatingDescriptionText,enableAnalytics:this.widgetSettings.general.feedAnalytics,embeddedBaseUrl:this.embeddedBaseUrl,methods:e,parentPageWidth:this.parentPageWidthComputed})},showFooter(){return this.widgetSettings.layout_and_theme.showPosts&&["feed","collage"].includes(this.widgetData.layout.name)&&this.numPages>1&&!this.widgetSettings.layout_and_theme.verticalAutoPlay},computedWidgetPointerEvents(){return this.widgetSettings.layout_and_theme.verticalAutoPlay?"none":"all"},computedSourcesForWidgetHeaderFilters(){var e,t;return this.widgetSettings.header.filterBySourceId?null===(t=this.widgetData)||void 0===t?void 0:t.sources.filter((e=>e.numOfPosts)):(0,g.tx)(null===(e=this.widgetData)||void 0===e?void 0:e.sources)},formattedProductTags(){return(0,g.r5)(this.widgetMedia)},showTaggedProducts(){return this.widgetSettings.layout_and_theme.showTaggedProducts&&this.formattedProductTags.length},priceFormatCurrencyFirst(){var e,t,i;return null!==(e=null===(t=this.widgetSettings)||void 0===t||null===(i=t.cta)||void 0===i?void 0:i.priceFormatCurrencyFirst)&&void 0!==e&&e},allMediaSourceFiltersText(){return this.isReviewsWidget?"w_all_reviews":"w_all_posts"},areFiltersEnabled(){return this.widgetSettings.header.filterBySource||this.widgetSettings.header.filterBySourceId},widgetContainerClasses(){var e,t=null!==(e=this.parentPageWidthComputed)&&void 0!==e?e:this.screenWidth,i=[];return this.parentPageWidthComputed&&i.push("es-parent-page-width"),i.push(this.getWidgetScreenSizeClass(t)),i},showTranslatedByAiDisclaimer(){return(0,c.Gf)({enableAiCaptionTranslator:this.widgetSettings.general.aiCaptionTranslator,enableAiTranslatorDisclaimer:this.widgetSettings.general.aiTranslatorDisclaimer,layoutId:this.widgetData.layout.id})},translatedByAiDisclaimerColor(){return(0,c.I2)(this.widgetSettings.layout_and_theme.chooseWidgetTheme)}},created(){window.iFrameResizer={messageCallback:e=>{Object.prototype.hasOwnProperty.call(e,"updatedSettings")&&Object.prototype.hasOwnProperty.call(e,"updatedData")&&(this.hasMessagesCallback=!0,this.widgetSettings=y(y({},this.widgetSettings),e.updatedSettings),this.widgetData=y(y({},this.widgetData),e.updatedData),this.addCustomCss(),this.$setWtLanguage(this.widgetSettings.general.widgetLanguage),this.loading=!1),Object.prototype.hasOwnProperty.call(e,"parentPageWidth")&&"number"==typeof e.parentPageWidth&&(this.parentPageWidth=e.parentPageWidth),Object.prototype.hasOwnProperty.call(e,"isPreLoadedLightboxReady")&&"boolean"==typeof e.isPreLoadedLightboxReady&&(this.isPreLoadedLightboxReady=e.isPreLoadedLightboxReady)}},this.hasMessagesCallback||this.$setWtLanguage(this.widgetSettings.general.widgetLanguage||"english"),this.loading=!1},mounted(){var e=this;return(0,n.A)((function*(){e.addCustomCss(),e.widgetSettings.header.interactiveFilterByTag&&(e.widgetTagsList=yield(0,u.hH)(e.embeddedBaseUrl,e.widgetData.id)),e.widgetSettings.layout_and_theme.verticalAutoPlay&&(window.addEventListener("mousewheel",e.disableMouseWheelScroll,{passive:!1}),setTimeout((()=>{e.setupVerticalAutoPlay()}),1500)),window.addEventListener("resize",e.handleResize)}))()},unmounted(){this.widgetSettings.layout_and_theme.verticalAutoPlay&&window.removeEventListener("mousewheel",this.disableMouseWheelScroll),window.removeEventListener("resize",this.handleResize)},methods:{getWidgetScreenSizeClass:e=>e>768?"es-widget-container-desktop":e>425?"es-widget-container-tablet":"es-widget-container-mobile",setupVerticalAutoPlay(){document.querySelector("#es-main-widget")||setTimeout((()=>{this.setupVerticalAutoPlay()}),500),this.scrollToEndOfTarget()},disableMouseWheelScroll(e){var t=window.event||e,i=Math.min(1,t.wheelDelta||-t.detail),a=Math.max(-1,i);[1,-1].includes(a)&&(t.preventDefault(),t.stopPropagation())},lightboxIframeSource(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new URLSearchParams({widgetLanguage:this.widgetSettings.general.widgetLanguage,lightboxDirection:this.widgetSettings.card.lightboxDirection});this.widgetSettings.header.filterKeyword&&"all"!==this.widgetSettings.header.filterKeyword&&t.append("filterKeyword",this.widgetSettings.header.filterKeyword),this.widgetSettings.header.interactiveFilterByTag&&this.filterTagId&&t.append("filterByTags","[".concat(this.filterTagId,"]")),this.widgetSettings.header.filterBySourceId&&this.selectedSourceId&&(t.append("sourceId",this.selectedSourceId),t.append("filterBySourceId","true")),this.widgetSettings.card.enablePreRenderingLightbox&&t.append("preRenderLightbox","true"),this.productId&&t.append("productId",this.productId);var i="".concat(this.lightboxBaseUrl).concat(this.widgetData.widgetRef,"/").concat(this.currentPage,"/").concat(e,"/");return"".concat(i,"?").concat(t)},sendDataToParentIframe(e,t){var i=arguments,a=this;return(0,n.A)((function*(){var e=i.length>2&&void 0!==i[2]?i[2]:"create";if(a.msgData.widgetRef=a.widgetData.widgetRef,a.msgData.index=t.toString(),a.msgData.page="0",a.msgData.src=a.lightboxIframeSource(t),a.msgData.iframeId="parentIFrame"in window?window.parentIFrame.getId():"embedIFrame_".concat(a.widgetData.widgetRef),a.msgData.popupPosition=a.widgetSettings.layout_and_theme.popupPosition,a.msgData.albumRef=a.widgetData.widgetRef,a.msgData.action=e,"open_lightbox"===e&&(a.msgData.action="create"),"open_lightbox"===e&&a.isPreLoadedLightboxReady&&a.widgetSettings.card.enablePreRenderingLightbox){var r;a.msgData.action="showPreRenderedLightbox";var o=null===(r=a.widgetMedia[t])||void 0===r?void 0:r.id;"pagination"===a.widgetSettings.layout_and_theme.navigation&&(a.msgData.activeMediaId=o)}"drawer-left"===a.widgetSettings.card.lightboxDirection&&(a.msgData.lightboxType="vertical_list_left"),"drawer-right"===a.widgetSettings.card.lightboxDirection&&(a.msgData.lightboxType="vertical_list_right"),"parentIFrame"in window&&window.parentIFrame.sendMessage(a.msgData)}))()},handleSourceSelect(e){var t=this;return(0,n.A)((function*(){t.isMediaLoading=!0;var i={page:1};t.widgetSettings.header.filterBySourceId?i.sourceId=t.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:i.sourceType=null==e?void 0:e.sourceType;var{media:a,totalNumMedias:r}=yield(0,u.yY)(i);t.currentPage=1,t.widgetSettings.header.filterBySourceId?t.selectedSourceId=t.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:t.sourceTypeFilter=null==e?void 0:e.sourceType,t.widgetMedia=a,t.numMaxMedia=r,t.numPages=Math.ceil(r/t.widgetSettings.layout_and_theme.postsPerPage),t.isMediaLoading=!1}))()},liveLoadMore(e){var t=this;return(0,n.A)((function*(){var{page:i}=e,a=window.pageYOffset;window.dispatchEvent(new Event("singlePageLoadingItems")),"infinite scroll"===t.widgetSettings.layout_and_theme.navigation&&(a+=70);var r={page:i};t.widgetSettings.header.filterBySourceId?r.sourceId=t.selectedSourceId:r.sourceType=t.sourceTypeFilter;var o=t.widgetMedia,{media:n}=t.areFiltersEnabled?yield(0,u.yY)(r):yield(0,u.LN)({page:i});t.currentPage=t.currentPage+1,t.widgetMedia=[...o,...n],window.dispatchEvent(new Event("singlePageLoadedItems")),window.scrollTo({top:a}),t.widgetSettings.card.enablePreRenderingLightbox&&t.isPreLoadedLightboxReady&&"parentIFrame"in window&&window.parentIFrame.sendMessage({action:"widgetPageChange",albumRef:t.widgetData.widgetRef,iframeId:"embed-lightbox-iframe-".concat(t.widgetData.widgetRef),page:i.toString()})}))()},livePaginator(e){var t=this;return(0,n.A)((function*(){var{page:i}=e,a={page:i};t.widgetSettings.header.filterBySourceId?a.sourceId=t.selectedSourceId:a.sourceType=t.sourceTypeFilter;var{media:r}=t.areFiltersEnabled?yield(0,u.yY)(a):yield(0,u.LN)({page:i});t.widgetMedia=r,t.currentPage=i,"parentIFrame"in window&&(window.parentIFrame.sendMessage({action:"scrollToTop",albumRef:t.widgetData.widgetRef,iframeId:"embedIFrame_".concat(t.widgetData.widgetRef)}),t.widgetSettings.card.enablePreRenderingLightbox&&t.isPreLoadedLightboxReady&&window.parentIFrame.sendMessage({action:"paginatorPageChange",albumRef:t.widgetData.widgetRef,src:t.lightboxIframeSource((+t.widgetSettings.layout_and_theme.postsPerPage+1)*(+t.currentPage-1)),iframeId:"embed-lightbox-iframe-".concat(t.widgetData.widgetRef)}))}))()},addCustomCss(){this.widgetSettings.custom_css.customCss.length&&(document.getElementById("es-custom-css").innerHTML=(0,g.w2)(this.widgetSettings.custom_css.customCss,"#es-main-widget"))},handleLeaveAReview(e){var t;if("lightbox"!==this.widgetSettings.header.buttonSourceType){if(this.isReviewsCustomLinkChosen({buttonSourceType:this.widgetSettings.header.buttonSourceType,buttonType:this.widgetSettings.header.buttonType,buttonLink:this.widgetSettings.header.buttonLink}))return window.open(this.widgetSettings.header.buttonLink,"_blank");var i=this.widgetSettings.header.buttonLink,a="".concat(null===(t=this.widgetSettings.card.starsColor)||void 0===t?void 0:t.replace("#",""));null===this.widgetSettings.header.buttonSourceType||["custom_reviews","collect_form"].includes(this.widgetSettings.header.buttonSourceType)?(i="".concat(this.embeddedBaseUrl,"pro_widgets_testimonial_form/").concat(this.widgetData.widgetRef,"?widgetLanguage=").concat(this.widgetSettings.general.widgetLanguage,"&widgetTheme=").concat(this.widgetSettings.layout_and_theme.chooseWidgetTheme,"&ratingIcon=").concat(this.widgetSettings.card.ratingIcon,"&starColor=").concat(a,"&reviewsWidget=").concat(this.isReviewsWidget),this.formMsgData.widgetRef=this.widgetData.widgetRef,this.formMsgData.albumRef=this.widgetData.widgetRef,this.formMsgData.src=i,this.formMsgData.type="collect",this.formMsgData.iframeId=window.parentIFrame.getId(),this.formMsgData.action="create","parentIFrame"in window&&window.parentIFrame.sendMessage(this.formMsgData)):window.open(this.widgetSettings.header.buttonSource.sourceLink,"_blank")}else this.sendDataToParentIframe(e,0,"create")},handleFilteredData(e){if(!e)return this.widgetMedia=(0,d.Fg)(),this.numMaxMedia=(0,d.j6)(),this.numPages=(0,d.Zo)(),this.widgetSettings.header.filterKeyword="all",void(this.filterTagId=null);var{data:t,keyword:i,tag:a}=e;this.widgetMedia=t.media,this.numMaxMedia=t.totalNumMedias,this.numPages=Math.ceil(t.totalNumMedias/this.widgetSettings.layout_and_theme.postsPerPage),i&&(this.widgetSettings.header.filterKeyword=i),a&&(this.filterTagId=this.computedWidgetTagsList.find((e=>e.name===a)).id)},handleResize(){this.clientWidth=document.body.clientWidth,this.screenWidth=window.screen.width},isReviewsSource(e){return this.isReviewsWidget||"google"===(null==e?void 0:e.sourceType)},isReviewsCustomLinkChosen:c.TS,registerLightboxClick:u.lp}},b=()=>{(0,a.$9)((e=>({"760c6b7b":e.computedContainerPadding,"34d4b2c7":e.computedWidgetPointerEvents})))},T=S.setup;S.setup=T?(e,t)=>(b(),T(e,t)):b;const C=S;var R=i(6262);const x={name:"App",components:{LayoutType:(0,R.A)(C,[["render",function(e,t,i,a,n,s){var d=(0,r.g2)("widget-source-filters"),l=(0,r.g2)("widget-header"),u=(0,r.g2)("list-products"),g=(0,r.g2)("translated-by-ai"),c=(0,r.g2)("widget-layout"),h=(0,r.g2)("widget-footer");return n.loading?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("div",(0,r.v6)({key:0,id:"es-main-widget",class:{"es-vertical-autoplay":n.widgetSettings.layout_and_theme.verticalAutoPlay}},(0,r.Tb)(s.mainContainerEvents,!0)),[(0,r.Lk)("div",{class:(0,o.C4)(["es-widget-container",s.widgetContainerClasses])},[s.showWidgetHeader?((0,r.uX)(),(0,r.Wv)(l,(0,r.v6)({key:0,sources:s.sourceTypes,"source-subtypes":s.sourceSubtypes},s.generateWidgetHeaderContext.headerProps,(0,r.Tb)(s.generateWidgetHeaderContext.events)),{"filter-by-source":(0,r.k6)((()=>[s.showSourceTypeFilters?((0,r.uX)(),(0,r.Wv)(d,{key:0,sources:s.computedSourcesForWidgetHeaderFilters,"widget-theme":n.widgetSettings.layout_and_theme.chooseWidgetTheme,"is-vertical-autoplay-active":n.widgetSettings.layout_and_theme.verticalAutoPlay,"header-alignment":n.widgetSettings.header.headerAlignment,"all-media-text":s.allMediaSourceFiltersText,"enable-filter-by-specific-sources":n.widgetSettings.header.filterBySourceId,"is-reviews-widget":n.isReviewsWidget,onSelectSource:s.handleSourceSelect},null,8,["sources","widget-theme","is-vertical-autoplay-active","header-alignment","all-media-text","enable-filter-by-specific-sources","is-reviews-widget","onSelectSource"])):(0,r.Q3)("v-if",!0)])),_:1},16,["sources","source-subtypes"])):(0,r.Q3)("v-if",!0),n.isMediaLoading?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[s.showTaggedProducts?((0,r.uX)(),(0,r.Wv)(u,{key:0,products:s.formattedProductTags,"price-format-currency-first":s.priceFormatCurrencyFirst},null,8,["products","price-format-currency-first"])):(0,r.Q3)("v-if",!0),s.showTranslatedByAiDisclaimer?((0,r.uX)(),(0,r.Wv)(g,{key:1,color:s.translatedByAiDisclaimerColor},null,8,["color"])):(0,r.Q3)("v-if",!0),n.widgetSettings.layout_and_theme.showPosts?((0,r.uX)(),(0,r.Wv)(c,{key:2,component:s.generateWidgetComponent.component,"card-props":s.generateWidgetComponent.props,"card-events":s.generateWidgetComponent.events},null,8,["component","card-props","card-events"])):(0,r.Q3)("v-if",!0),s.showFooter?((0,r.uX)(),(0,r.Wv)(h,{key:3,component:s.generateWidgetFooter.footerComponent,"footer-props":s.generateWidgetFooter.footerProps,"footer-events":s.generateWidgetFooter.footerEvents},null,8,["component","footer-props","footer-events"])):(0,r.Q3)("v-if",!0)],64))],2)],16))}]]),LightboxType:(0,r.$V)((()=>Promise.all([i.e(230),i.e(2479),i.e(5483),i.e(5853)]).then(i.bind(i,7020)))),UserFeedbackForm:(0,r.$V)((()=>Promise.all([i.e(7268),i.e(5570)]).then(i.bind(i,6437))))},props:{component:{type:String,required:!0,description:"The name of the component that should be rendered taken from the index.html.twig file"}}},I=(0,R.A)(x,[["render",function(e,t,i,a,o,n){return(0,r.uX)(),(0,r.Wv)((0,r.$y)(i.component))}]]);var W=i(9043),P=i(1655),k=document.getElementById("widget-view-live").getAttribute("data-component"),L=(0,a.Ef)(I,{component:k}),B=(0,d.$)(),_=()=>{var e=(0,d.Ln)(),t=new URLSearchParams(window.location.search).get("widgetLanguage");return t&&(e=t),e};L.use(W.A,{wtMessages:{english:P,[_()]:B?JSON.parse(B):P}}),L.mount("#widget-view-live")},6262:(e,t)=>{t.A=(e,t)=>{const i=e.__vccOpts||e;for(const[e,a]of t)i[e]=a;return i}},8393:(e,t,i)=>{i.d(t,{A:()=>y});var a=i(641);i(3792),i(3362),i(2953);var r=i(33),o=["width","height"],n={key:0},s=["id"],d={key:1},l=["id"],u=["offset"],g=["offset"],c={key:2},h=["id"],p=["fill"];const w={name:"CircleIconRating",mixins:[i(4411).A],props:{averageRating:{type:[Number,String],required:!0,description:"The total average rating from all reviews"},starColor:{type:String,default:"#ffb542"},width:{type:String,default:"20"},height:{type:String,default:"20"}}};var m=i(6262);const f=(0,m.A)(w,[["render",function(e,t,i,w,m,f){return(0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(5,(w=>(0,a.Lk)("svg",{key:w,width:e.iconSize.width,height:e.iconSize.height,class:"es-circle",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w<e.computedAverageRating?((0,a.uX)(),(0,a.CE)("defs",n,[(0,a.Lk)("linearGradient",{id:"circle-icon-".concat(w)},[(0,a.Lk)("stop",{offset:"100%",style:(0,r.Tr)("stop-color: ".concat(i.starColor,"; stop-opacity: 1"))},null,4),t[0]||(t[0]=(0,a.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1))],8,s)])):(0,a.Q3)("v-if",!0),w===e.computedAverageRating?((0,a.uX)(),(0,a.CE)("defs",d,[(0,a.Lk)("linearGradient",{id:"circle-icon-".concat(w)},[(0,a.Lk)("stop",{offset:"".concat(e.computedIconWidth,"0%"),style:(0,r.Tr)("stop-color: ".concat(i.starColor,"; stop-opacity:1"))},null,12,u),(0,a.Lk)("stop",{offset:"".concat(e.computedIconWidth,"0%"),style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,8,g)],8,l)])):(0,a.Q3)("v-if",!0),w>e.computedAverageRating?((0,a.uX)(),(0,a.CE)("defs",c,[(0,a.Lk)("linearGradient",{id:"circle-icon-".concat(w)},t[1]||(t[1]=[(0,a.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1),(0,a.Lk)("stop",{offset:"100%",style:{"stop-color":"#d6dae4","stop-opacity":"1"}},null,-1)]),8,h)])):(0,a.Q3)("v-if",!0),(0,a.Lk)("path",{d:"M12 2.5C6.48 2.5 2 6.98 2 12.5C2 18.02 6.48 22.5 12 22.5C17.52 22.5 22 18.02 22 12.5C22 6.98 17.52 2.5 12 2.5Z",fill:"url(#circle-icon-".concat(w,")")},null,8,p)],8,o))),64)}]]),v={name:"HeaderRatingElement",components:{CircleIconRating:f,StarRating:(0,a.$V)({loader:()=>i.e(3628).then(i.bind(i,3628)),loadingComponent:f,delay:0}),StarIconFilledRating:(0,a.$V)({loader:()=>i.e(6049).then(i.bind(i,6049)),loadingComponent:f,delay:0}),HeartIconRating:(0,a.$V)({loader:()=>i.e(4810).then(i.bind(i,4810)),loadingComponent:f,delay:0}),ThumbUpIconRating:(0,a.$V)({loader:()=>i.e(2199).then(i.bind(i,2199)),loadingComponent:f,delay:0})},props:{averageRating:{type:Number,default:0,description:"The total average rating from all reviews"},starColor:{type:String,default:"#ffb621"},ratingIcon:{type:String,default:"star-icon"}},computed:{computedRatingComponent(){switch(this.ratingIcon){case"star-icon-filled":return"StarIconFilledRating";case"heart-icon":return"HeartIconRating";case"circle-icon":return"CircleIconRating";case"thumb-up-icon":return"ThumbUpIconRating";default:return"StarRating"}}}},y=(0,m.A)(v,[["render",function(e,t,i,r,o,n){return(0,a.uX)(),(0,a.Wv)((0,a.$y)(n.computedRatingComponent),{"average-rating":i.averageRating,"star-color":i.starColor},null,8,["average-rating","star-color"])}]])},9763:(e,t,i)=>{i.d(t,{A:()=>I});i(3792),i(2953);var a=i(641),r=i(33),o=["src"],n=["title","innerHTML"],s={key:0,class:"es-widget-rating-container"},d={class:"es-widget-header-details-text"},l={class:"es-average-rating"},u={class:"es-num-reviews"},g={key:0,class:"es-header-border"},c=["aria-label","title"],h={key:0,class:"es-button-icon"},p=["src"];var w=i(467),m=(i(3362),i(4423),i(1699),i(9868),i(7495),i(744),i(274)),f=i(1399),v=i(522),y=i(8393),S=i(4229),b=i(3751),T={name:"WidgetHeader",components:{HeaderRatingElement:y.A,LogoTypeRenderer:S.default,KeywordFilters:(0,a.$V)((()=>i.e(1532).then(i.bind(i,1532))))},inheritAttrs:!1,props:{starColor:{type:String,default:"#0f00ff"},showAverageRating:{type:Boolean,default:!0,description:"Boolean for whether the average rating should be displayed in the header."},enableTitle:{type:Boolean,default:!0,description:"Boolean for whether the title should be displayed or not in the header."},showThumbnail:{type:Boolean,default:!0,description:"Boolean for whether the title thumbnail shoud be displayed."},widgetHeaderThumbnailStyle:{type:String,default:"circle",description:"String for the border radius for the Widget Header Thumbnail Image, it can be circle or rounded."},showNumberOfMedia:{type:Boolean,default:!0,description:"Boolean for whether the number of media should be displayed"},title:{type:String,default:""},numberOfMedia:{type:[Number],required:!0},widgetHeaderPhoto:{type:String,default:""},averageRating:{type:[Number],default:0},averageRatingNumberOfReviews:{type:Number,default:0,description:"The total number of reviews for the widget (including the filtered reviews)."},showButton:{type:Boolean,default:!0},buttonText:{type:String,default:""},buttonColor:{type:String,default:"#0033ff"},buttonLink:{type:String,default:""},reviewsButtonLink:{type:String,default:""},isReviewsWidget:{type:Boolean,default:!1},isTemplatePreview:{type:Boolean,default:!1},titleFontSize:{type:Number,default:18},titleColor:{type:String,default:"#000000"},language:{type:String,default:""},buttonTextColor:{type:String,default:"#ffffff"},buttonHoverState:{type:String,default:"#1947ff"},buttonSize:{type:String,default:"medium"},buttonCornerRadius:{type:Number,default:3},buttonBorderWidth:{type:Number,default:0},buttonBorderColor:{type:String,default:"#0033ff"},widgetTheme:{type:String,default:"Light"},headerAlignment:{type:String,default:"default"},spaceBetweenHeaderAndFeed:{type:Number,default:25},verticalAutoplay:{type:Boolean,default:!1,description:"Boolean value for if the verticalAutoplay is set."},isInEditor:{type:Boolean,default:!1},overridenTitle:{type:String,default:""},widgetMode:{type:String,default:"live",validator:e=>["live","preview","editor"].includes(e)},ratingIcon:{type:String,default:"star-icon"},usedIn:{type:String,validator:e=>["widget","drawer-lightbox"].includes(e),default:"widget"},sources:{type:Array,default:()=>[]},isCreatedFromTemplate:{type:Boolean,default:!1},buttonStyle:{type:String,default:"text only",validator:e=>["text only","text and icon"].includes(e)},buttonIcon:{type:String,default:"",description:"The icon to be displayed in the button"},uploadButtonIcon:{type:String,default:""},headerStyle:{type:String,default:"default",validator:e=>["default","with filters"].includes(e)},selectedLayout:{type:String,default:"feed"},sourceSubtypes:{type:Array,default:()=>[]},showFilterKeywords:{type:Boolean,default:!1},filterKeywords:{type:Array,default:()=>[]},filterMediaUrl:{type:String,default:""},widgetTagsList:{type:Array,default:()=>[]},showWidgetTags:{type:Boolean,default:!1},updatedWidgetSettings:{type:Object,default:()=>({})},followButtonClickEventId:{type:String,default:""},embeddedBaseUrl:{type:String,default:""}},emits:["leave-a-review","handle-filtered-data"],data:()=>({scopedFilterKeywords:[],scopedWidgetTags:[]}),computed:{computedStarsColor(){return"Rainbow"===this.widgetTheme?"#000000":this.starColor},displayHeaderBorder(){return["left","right","center"].includes(this.headerAlignment)&&this.showButton},computedHeaderBottomMargin(){return"".concat(this.spaceBetweenHeaderAndFeed,"px")},computedButtonBorder(){return"".concat(this.buttonBorderWidth,"px solid ").concat(this.buttonBorderColor)},computedButtonCornerRadius(){return"".concat(this.buttonCornerRadius,"px")},computedButtonPadding(){switch(this.buttonSize){case"small":return"6px 10px";case"large":return"14px 18px";default:return"10px 14px"}},computedTitleFontSize(){return"".concat(this.titleFontSize,"px")},displayTitle(){return"badge"===this.selectedLayout&&"drawer-lightbox"===this.usedIn||("editor"===this.widgetMode?this.enableTitle:this.enableTitle&&this.title)},displayAverageRating(){return this.averageRating&&this.showAverageRating&&(this.isReviewsWidget||1===this.sources.length&&this.sources.includes("google")&&this.sourceSubtypes.includes("place"))},numMediaText(){return this.language?this.isReviewsWidget?1===this.numberOfMedia?this.$wt("w_review"):this.$wt("w_reviews"):1===this.numberOfMedia?this.$wt("w_post"):this.$wt("w_posts"):""},fixedAverageRating(){return this.averageRating.toFixed(1)},showWidgetHeaderPhoto(){return this.widgetHeaderPhoto&&this.showThumbnail&&!this.isReviewsWidget},buttonLinkContext(){return this.isReviewsWidget?this.reviewsButtonLink?{ariaLabel:"Open button link in new tab",events:{}}:{ariaLabel:"Open leave a review form",events:{click:()=>{this.$emit("leave-a-review")},keyup:e=>{13===e.keyCode&&this.$emit("leave-a-review")}}}:this.buttonLink?{ariaLabel:"Open button link in new tab",events:{}}:{ariaLabel:"Open button link in new tab",events:{click:()=>{this.$emit("leave-a-review")},keyup:e=>{13===e.keyCode&&this.$emit("leave-a-review")}}}},headerAlignmentSetting(){switch(this.headerAlignment){case"center":return" es-header-align-center";case"left":return" es-header-align-left";case"right":return" es-header-align-right";default:return""}},computedThumbnailClasses(){return"rounded"===this.widgetHeaderThumbnailStyle?"es-thumbnail-rounded":null},computedTextAlignment(){return this.showWidgetHeaderPhoto?"flex-start":(0,f.q4)(this.headerAlignment)},headerAlignmentClasses(){if(!this.isTemplatePreview){var e="es-widget-header-container-template es-header-container-responsive";return 25!==this.spaceBetweenHeaderAndFeed&&(e+=" es-header-margin-b"),this.verticalAutoplay&&(e+=" es-header-fixed"),e+=this.headerAlignmentSetting,"drawer-lightbox"===this.usedIn&&(e+=" es-header-drawer"),{container:e,details:"es-widget-details-container-template",items:"es-align-header-template"}}var t="es-widget-header-container";return 25!==this.spaceBetweenHeaderAndFeed&&(t+=" es-header-margin-b"),{container:t+=this.headerAlignmentSetting,details:"es-widget-details-container",items:"es-align-header-items"}},computedButtonText(){return this.buttonText||"editor"!==this.widgetMode?this.language?"Leave a review"===this.buttonText?this.$wt("w_leave_review"):"Follow Us"===this.buttonText?this.$wt("w_follow_us"):"Share your post"===this.buttonText?this.$wt("w_share_post"):this.buttonText:this.buttonText:this.$wt("w_text_goes_here")},computedThemeTextColor(){return"drawer-lightbox"===this.usedIn?{numMedias:"#000000",imageBorder:"#2f3137",headerBg:"#000000"}:"Dark"===this.widgetTheme?{numMedias:"#ffffff",imageBorder:"#2f3137",headerBg:"#000000"}:{numMedias:"#464b5b",imageBorder:"#d6dae4",headerBg:"#ffffff"}},computedEditorHeaderHeight(){if(this.isInEditor&&this.isCreatedFromTemplate&&this.verticalAutoplay)return 120;var e=document.querySelector(".editor-header-container");return(null==e?void 0:e.offsetHeight)||60},computedPreviewHeaderHeight(){try{var e=parent.document.querySelector(".editor-header-container");return"".concat((null==e?void 0:e.offsetHeight)-61,"px")||0}catch(e){return"0"}},computedHeaderTitle(){if(this.overridenTitle)return this.overridenTitle;if(this.verticalAutoplay){var e,t;if((null===(e=this.title)||void 0===e?void 0:e.length)>13&&window.innerWidth<640)return"".concat(this.title.slice(0,13),"...");if((null===(t=this.title)||void 0===t?void 0:t.length)>26)return"".concat(this.title.slice(0,26),"...")}return this.title},computedFixedHeaderContext(){return this.isInEditor?{top:"".concat(this.computedEditorHeaderHeight,"px"),maxW:"440px",position:"fixed"}:{top:this.computedPreviewHeaderHeight,maxW:"500px",position:"sticky"}},computedTitleTooltip(){return this.overridenTitle?this.overridenTitle:this.computedHeaderTitle},computedReviewsMobileSpacing(){return this.isReviewsWidget?"5px":"0"},computedButtonIcon(){return this.buttonIcon.split("-")[0]},showRating(){return"drawer-lightbox"!==this.usedIn||"with filters"!==this.headerStyle},computedRatingAlingment(){return(0,f.q4)(this.headerAlignment)},showHeaderFilters(){return this.showFilterKeywords||this.showWidgetTags},filtersList(){return this.showFilterKeywords?this.scopedFilterKeywords:this.showWidgetTags?this.scopedWidgetTags:[]}},watch:{showFilterKeywords(){this.showFilterKeywords&&this.modifyFilterKeywords()},showWidgetTags(){this.showWidgetTags&&this.modifyWidgetTags()},widgetTagsList(){this.showWidgetTags&&this.modifyWidgetTags()}},created(){this.showFilterKeywords&&this.modifyFilterKeywords(),this.showWidgetTags&&this.modifyWidgetTags()},methods:{handleButtonClick(){return this.followButtonClickEventId&&this.embeddedBaseUrl&&(0,v.cf)(this.embeddedBaseUrl,this.followButtonClickEventId),this.isReviewsWidget?this.reviewsButtonLink?window.open(this.reviewsButtonLink,"_blank"):window.open("javascript:void(0)","_self"):this.buttonLink?window.open(this.buttonLink,"_blank"):window.open("javascript:void(0)","_self")},modifyFilterKeywords(){this.filterKeywords&&this.filterKeywords.length&&(1!==this.filterKeywords.length||"The review provided does not contain any nouns."!==this.filterKeywords[0])||(this.scopedFilterKeywords=[]),this.scopedFilterKeywords=this.filterKeywords.map((e=>({text:e,loading:!1,active:!1})))},modifyWidgetTags(){this.widgetTagsList.length||(this.scopedWidgetTags=[]),this.scopedWidgetTags=this.widgetTagsList.map((e=>({text:e.name,loading:!1,active:!1})))},handleFilterClick(e){this.showFilterKeywords&&this.handleKeywordClick(e),this.showWidgetTags&&this.handleFilterByTag(e)},handleKeywordClick(e){var t=this;return(0,w.A)((function*(){if("all"!==e){var i=t.scopedFilterKeywords.find((t=>t.text===e));if(i){i.loading=!0;var a=!Object.keys(t.updatedWidgetSettings).includes("filterByKeywords"),r=[{key:"filterKeyword",value:e}];t.isInEditor&&!a&&r.push({key:"filterByKeywords",value:"true"});var{success:o,data:n}=yield(0,v.x2)({filterMediaUrl:t.filterMediaUrl,params:r});o&&(i.loading=!1,i.active=!0),t.$emit("handle-filtered-data",{data:n,keyword:e})}}else t.$emit("handle-filtered-data",null)}))()},handleFilterByTag(e){var t=this;return(0,w.A)((function*(){if("all"!==e){var i=t.scopedWidgetTags.find((t=>t.text===e)),a=t.widgetTagsList.find((t=>t.name===e)).id;i.loading=!0;var r=!Object.keys(t.updatedWidgetSettings).includes("interactiveFilterByTag"),o=[{key:"filterByTags",value:"[".concat(a,"]")}];t.isInEditor&&!r&&o.push({key:"interactiveFilterByTag",value:"true"});var{success:n,data:s}=yield(0,v.x2)({filterMediaUrl:t.filterMediaUrl,params:o});n&&(i.loading=!1,i.active=!0),t.$emit("handle-filtered-data",{data:s,tag:e})}else t.$emit("handle-filtered-data",null)}))()},getLogoTypeRendererProps:m.Np}},C=()=>{(0,b.$9)((e=>({"5679e24c":e.computedHeaderBottomMargin,"75e1eaf2":e.computedRatingAlingment,"6bedf0cc":e.computedThemeTextColor.imageBorder,"8b57e938":e.titleColor,"4f273042":e.computedTitleFontSize,"723bd64c":e.computedThemeTextColor.numMedias,"22877ef8":e.buttonColor,"3ce46202":e.computedButtonCornerRadius,90491438:e.computedButtonBorder,"6220a96a":e.buttonTextColor,"0f817159":e.computedButtonPadding,"68a4d380":e.buttonHoverState,"2505a66d":e.computedThemeTextColor.headerBg,f65b5b26:e.computedFixedHeaderContext.maxW,"6a3fd723":e.computedFixedHeaderContext.position,bd9fa1ca:e.computedFixedHeaderContext.top,"6e6be010":e.computedTextAlignment,d294b268:e.computedReviewsMobileSpacing})))},R=T.setup;T.setup=R?(e,t)=>(C(),R(e,t)):C;const x=T;const I=(0,i(6262).A)(x,[["render",function(e,t,i,w,m,f){var v=(0,a.g2)("header-rating-element"),y=(0,a.g2)("logo-type-renderer"),S=(0,a.g2)("keyword-filters");return(0,a.uX)(),(0,a.CE)("div",{id:"es-widget-header-container-template",class:(0,r.C4)(f.headerAlignmentClasses.container)},[(0,a.Lk)("div",{class:(0,r.C4)(f.headerAlignmentClasses.details)},[f.showWidgetHeaderPhoto?((0,a.uX)(),(0,a.CE)("img",{key:0,src:i.widgetHeaderPhoto,alt:"Thumbnail image for the widget header",class:(0,r.C4)(["es-widget-header-image",f.computedThumbnailClasses])},null,10,o)):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",{class:(0,r.C4)(f.headerAlignmentClasses.items)},[(0,a.RG)(e.$slots,"widget-header-title",{},(()=>[f.displayTitle?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"es-widget-header-details-title",title:f.computedTitleTooltip,innerHTML:f.computedHeaderTitle},null,8,n)):(0,a.Q3)("v-if",!0)])),f.showRating?((0,a.uX)(),(0,a.CE)("div",s,[f.displayAverageRating?((0,a.uX)(),(0,a.Wv)(v,{key:0,"average-rating":i.averageRating,"star-color":f.computedStarsColor,"rating-icon":i.ratingIcon},null,8,["average-rating","star-color","rating-icon"])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",d,[f.displayAverageRating?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",l,(0,r.v_)(f.fixedAverageRating),1),(0,a.eW)(" "+(0,r.v_)(e.$wt("w_rating_of"))+" ",1),(0,a.Lk)("span",u,(0,r.v_)(i.averageRatingNumberOfReviews),1),(0,a.eW)(" "+(0,r.v_)(e.$wt("w_reviews")),1)],64)):i.showNumberOfMedia?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,r.v_)(i.numberOfMedia)+" "+(0,r.v_)(f.numMediaText),1)],64)):(0,a.Q3)("v-if",!0)])])):(0,a.Q3)("v-if",!0)],2)],2),f.displayHeaderBorder?((0,a.uX)(),(0,a.CE)("span",g)):(0,a.Q3)("v-if",!0),i.showButton?((0,a.uX)(),(0,a.CE)("a",(0,a.v6)({key:1,class:"es-header-btn","aria-label":f.buttonLinkContext.ariaLabel,title:f.computedButtonText,onClick:t[0]||(t[0]=function(){return f.handleButtonClick&&f.handleButtonClick(...arguments)})},(0,a.Tb)(f.buttonLinkContext.events,!0)),["text only"!==i.buttonStyle?((0,a.uX)(),(0,a.CE)("div",h,[i.uploadButtonIcon?((0,a.uX)(),(0,a.CE)("img",{key:0,class:"es-button-image",src:i.uploadButtonIcon,alt:"Button icon"},null,8,p)):((0,a.uX)(),(0,a.Wv)(y,(0,r._B)((0,a.v6)({key:1},f.getLogoTypeRendererProps({buttonIcon:i.buttonIcon,computedButtonIcon:f.computedButtonIcon,buttonTextColor:i.buttonTextColor}))),null,16))])):(0,a.Q3)("v-if",!0),(0,a.eW)(" "+(0,r.v_)(f.computedButtonText),1)],16,c)):(0,a.Q3)("v-if",!0),f.showHeaderFilters?((0,a.uX)(),(0,a.Wv)(S,{key:2,class:(0,r.C4)(f.headerAlignmentSetting),keywords:f.filtersList,theme:i.widgetTheme,onKeywordClick:f.handleFilterClick},null,8,["class","keywords","theme","onKeywordClick"])):(0,a.Q3)("v-if",!0),(0,a.RG)(e.$slots,"filter-by-source")],2)}]])},4069:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var a=i(641),r=i(33),o=["aria-label","onClick","onKeyup"],n=["src","alt"],s={class:"es-source-name"};i(4423);var d=i(4229),l=i(3751),u={name:"WidgetSourceFilters",components:{LogoTypeRenderer:d.default},props:{sources:{type:Array,required:!0},widgetTheme:{type:String,default:"Light"},usedIn:{type:String,validator:e=>["widget","drawer-lightbox"].includes(e),default:"widget"},isVerticalAutoplayActive:{type:Boolean,default:!1},headerAlignment:{type:String,validator:e=>["left","center","right","default"].includes(e),default:"default"},selectedFilterSource:{type:[String,Number],default:""},allMediaText:{type:String,default:"w_all_posts"},enableFilterBySpecificSources:{type:Boolean,default:!1},isReviewsWidget:{type:Boolean,default:!1}},emits:["select-source"],data(){return{selectedSource:this.selectedFilterSource||null}},computed:{computedContainerClasses(){var e=["sources-container"];return this.isVerticalAutoplayActive&&e.push("flex-wrap"),"Dark"===this.widgetTheme&&e.push("es-dark"),"drawer-lightbox"===this.usedIn&&e.push("es-drawer-sources"),e.join(" ")},computedAlignment(){switch(this.headerAlignment){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}},methods:{handleSourceClick(e){if(!e)return this.selectedSource=null,void this.$emit("select-source",null);this.enableFilterBySpecificSources?this.selectedSource=this.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id:this.selectedSource=null==e?void 0:e.sourceType,this.$emit("select-source",e)},handleSourceKeyup(e,t){13===e.keyCode&&this.handleSourceClick(t)},isSourceSelected(e){return null===e?null===this.selectedSource:this.enableFilterBySpecificSources?(this.isReviewsSource(e)?null==e?void 0:e.sourceId:null==e?void 0:e.id)===this.selectedSource:(null==e?void 0:e.sourceType)===this.selectedSource},colorBySourceType(e){return"Dark"===this.widgetTheme?"#ffffff":"google"===e?"#000001":"#000000"},formattedSourceName(e){var{sourceType:t,sourceName:i}=e;return"custom"===t||this.enableFilterBySpecificSources?i:"embed_form"===t?"EmbedForms":"rss"===t?"RSS":"youtube"===t?"YouTube":"twitter"===t?"X":"".concat(t[0].toUpperCase()).concat(t.substring(1))},showSourcePhoto:e=>"custom"===(null==e?void 0:e.sourceType)&&(null==e?void 0:e.sourceCoverPhotoLink),isReviewsSource(e){return this.isReviewsWidget||"google"===(null==e?void 0:e.sourceType)}}},g=()=>{(0,l.$9)((e=>({"416c3ab5":e.computedAlignment})))},c=u.setup;u.setup=c?(e,t)=>(g(),c(e,t)):g;const h=u;const p=(0,i(6262).A)(h,[["render",function(e,t,i,d,l,u){var g=(0,a.g2)("logo-type-renderer");return(0,a.uX)(),(0,a.CE)("ul",{class:(0,r.C4)(u.computedContainerClasses)},[(0,a.Lk)("li",{class:(0,r.C4)(["source-item",{"active-source":u.isSourceSelected(null)}]),tabindex:"0",onClick:t[0]||(t[0]=e=>u.handleSourceClick(null))},(0,r.v_)(e.$wt(i.allMediaText)),3),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.sources,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.sourceId,class:(0,r.C4)(["source-item",{"active-source":u.isSourceSelected(e)}]),tabindex:"0","aria-label":"Open posts from ".concat(e.sourceType),onClick:t=>u.handleSourceClick(e),onKeyup:t=>u.handleSourceKeyup(t,e)},[u.showSourcePhoto(e)?((0,a.uX)(),(0,a.CE)("img",{key:0,class:(0,r.C4)(["es-source-img",{grayscale:!u.isSourceSelected(e)}]),src:e.sourceCoverPhotoLink,alt:"Logo for ".concat(e.sourceType)},null,10,n)):((0,a.uX)(),(0,a.Wv)(g,{key:1,"source-type":e.sourceType,"fill-color":u.isSourceSelected(e)?"":u.colorBySourceType(e.sourceType),class:"source-logo"},null,8,["source-type","fill-color"])),(0,a.Lk)("span",s,(0,r.v_)(u.formattedSourceName(e)),1)],42,o)))),128))],2)}]])},2333:(e,t,i)=>{var a=i(1291),r=i(655),o=i(7750),n=RangeError;e.exports=function(e){var t=r(o(this)),i="",s=a(e);if(s<0||s===1/0)throw new n("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},9085:(e,t,i)=>{var a=i(6518),r=i(4213);a({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},8781:(e,t,i)=>{var a=i(350).PROPER,r=i(6840),o=i(8551),n=i(655),s=i(9039),d=i(1034),l="toString",u=RegExp.prototype[l],g=s((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),c=a&&u.name!==l;(g||c)&&r(RegExp.prototype,l,(function(){var e=o(this);return"/"+n(e.source)+"/"+n(d(e))}),{unsafe:!0})}},e=>{e.O(0,[9135,8331,6972,9410,6405,9661],(()=>{return t=8189,e(e.s=t);var t}));e.O()}]);